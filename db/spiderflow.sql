SET FOREIGN_KEY_CHECKS=0;

-- CREATE DATABASE spiderflow;
-- USE zabbix;

DROP TABLE IF EXISTS `sp_flow`;
CREATE TABLE `sp_flow` (
                           `id` varchar(32) NOT NULL,
                           `name` varchar(64) DEFAULT NULL COMMENT '任务名字',
                           `xml` longtext DEFAULT NULL COMMENT 'xml表达式',
                           `cron` varchar(255) DEFAULT NULL COMMENT 'corn表达式',
                           `enabled` char(1) DEFAULT '0' COMMENT '任务是否启动,默认未启动',
                           `create_date` datetime DEFAULT CURRENT_TIMESTAMP  COMMENT '创建时间',
                           `last_execute_time` datetime DEFAULT NULL  COMMENT '上一次执行时间',
                           `next_execute_time` datetime DEFAULT NULL   COMMENT '下一次执行时间',
                           `execute_count` int(8) DEFAULT NULL  COMMENT '定时执行的已执行次数',
                           PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT '爬虫任务表';

INSERT INTO `sp_flow` VALUES ('b45fb98d2a564c23ba623a377d5e12e9', 'DELL-IDRAC7', '<mxGraphModel> <root> <mxCell id="0"> <JsonProperty as="data"> {&quot;spiderName&quot;:&quot;DELL-IDRAC7&quot;,&quot;submit-strategy&quot;:&quot;random&quot;,&quot;threadCount&quot;:&quot;&quot;} </JsonProperty> </mxCell> <mxCell id="1" parent="0"/> <mxCell id="2" value="开始" style="start" parent="1" vertex="1"> <mxGeometry x="78" y="98.5" width="30" height="32" as="geometry"/> <JsonProperty as="data"> {&quot;shape&quot;:&quot;start&quot;} </JsonProperty> </mxCell> <mxCell id="3" value="定义变量" style="variable" parent="1" vertex="1"> <mxGeometry x="203" y="98.5" width="32" height="32" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;定义变量&quot;,&quot;loopVariableName&quot;:&quot;&quot;,&quot;variable-name&quot;:[&quot;host_ip&quot;,&quot;user&quot;,&quot;password&quot;],&quot;variable-description&quot;:[&quot;当前监控主机的IP&quot;,&quot;&quot;,&quot;&quot;],&quot;loopCount&quot;:&quot;&quot;,&quot;variable-value&quot;:[&quot;192.168.80.241&quot;,&quot;baomu&quot;,&quot;bm@123&quot;],&quot;shape&quot;:&quot;variable&quot;} </JsonProperty> </mxCell> <mxCell id="4" value="" style="strokeWidth=2;sharp=1;" parent="1" source="2" target="3" edge="1"> <mxGeometry relative="1" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;&quot;,&quot;exception-flow&quot;:&quot;0&quot;,&quot;lineWidth&quot;:&quot;2&quot;,&quot;line-style&quot;:&quot;sharp&quot;,&quot;lineColor&quot;:&quot;black&quot;,&quot;condition&quot;:&quot;&quot;,&quot;transmit-variable&quot;:&quot;1&quot;} </JsonProperty> </mxCell> <mxCell id="6" value="登录" style="request" parent="1" vertex="1"> <mxGeometry x="286" y="98.5" width="32" height="32" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;登录&quot;,&quot;loopVariableName&quot;:&quot;&quot;,&quot;method&quot;:&quot;POST&quot;,&quot;sleep&quot;:&quot;2&quot;,&quot;timeout&quot;:&quot;&quot;,&quot;response-charset&quot;:&quot;&quot;,&quot;retryCount&quot;:&quot;&quot;,&quot;retryInterval&quot;:&quot;&quot;,&quot;parameter-name&quot;:[&quot;user&quot;,&quot;password&quot;],&quot;parameter-description&quot;:[&quot;&quot;,&quot;&quot;],&quot;body-type&quot;:&quot;none&quot;,&quot;body-content-type&quot;:&quot;text/plain&quot;,&quot;parameter-form-name&quot;:[&quot;{\&quot;method\&quot;:\&quot;login\&quot;,\&quot;user_login\&quot;:\&quot;Administrator\&quot;,\&quot;password\&quot;:\&quot;bmwh@123!@#\&quot;}&quot;],&quot;parameter-form-type&quot;:[&quot;text&quot;],&quot;parameter-form-description&quot;:[&quot;&quot;],&quot;loopCount&quot;:&quot;&quot;,&quot;url&quot;:&quot;https://${host_ip}/data/login&quot;,&quot;proxy&quot;:&quot;&quot;,&quot;parameter-value&quot;:[&quot;${user}&quot;,&quot;${password}&quot;],&quot;request-body&quot;:&quot;&quot;,&quot;parameter-form-filename&quot;:[&quot;&quot;],&quot;parameter-form-value&quot;:[&quot;&quot;],&quot;follow-redirect&quot;:&quot;1&quot;,&quot;tls-validate&quot;:&quot;0&quot;,&quot;cookie-auto-set&quot;:&quot;1&quot;,&quot;repeat-enable&quot;:&quot;0&quot;,&quot;shape&quot;:&quot;request&quot;} </JsonProperty> </mxCell> <mxCell id="33" value="执行结束" style="forkJoin" parent="1" vertex="1"> <mxGeometry x="1426" y="101" width="32" height="32" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;执行结束&quot;,&quot;shape&quot;:&quot;forkJoin&quot;} </JsonProperty> </mxCell> <mxCell id="35" value="登出" style="request" parent="1" vertex="1"> <mxGeometry x="750" y="1270" width="32" height="32" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;登出&quot;,&quot;loopVariableName&quot;:&quot;&quot;,&quot;method&quot;:&quot;GET&quot;,&quot;sleep&quot;:&quot;5&quot;,&quot;timeout&quot;:&quot;&quot;,&quot;response-charset&quot;:&quot;&quot;,&quot;retryCount&quot;:&quot;&quot;,&quot;retryInterval&quot;:&quot;&quot;,&quot;body-type&quot;:&quot;none&quot;,&quot;body-content-type&quot;:&quot;text/plain&quot;,&quot;parameter-form-name&quot;:[&quot;{\&quot;method\&quot;:\&quot;login\&quot;,\&quot;user_login\&quot;:\&quot;Administrator\&quot;,\&quot;password\&quot;:\&quot;bmwh@123!@#\&quot;}&quot;],&quot;parameter-form-type&quot;:[&quot;text&quot;],&quot;parameter-form-description&quot;:[&quot;&quot;],&quot;loopCount&quot;:&quot;&quot;,&quot;url&quot;:&quot;https://${host_ip}/data/logout&quot;,&quot;proxy&quot;:&quot;&quot;,&quot;request-body&quot;:&quot;&quot;,&quot;parameter-form-filename&quot;:[&quot;&quot;],&quot;parameter-form-value&quot;:[&quot;&quot;],&quot;follow-redirect&quot;:&quot;1&quot;,&quot;tls-validate&quot;:&quot;0&quot;,&quot;cookie-auto-set&quot;:&quot;1&quot;,&quot;repeat-enable&quot;:&quot;0&quot;,&quot;shape&quot;:&quot;request&quot;} </JsonProperty> </mxCell> <mxCell id="38" value="获取登录会话关键信息" style="variable" parent="1" vertex="1"> <mxGeometry x="416" y="98.5" width="32" height="32" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;获取登录会话关键信息&quot;,&quot;loopVariableName&quot;:&quot;&quot;,&quot;variable-name&quot;:[&quot;forwardUrl&quot;,&quot;ST2&quot;],&quot;variable-description&quot;:[&quot;&quot;,&quot;&quot;],&quot;loopCount&quot;:&quot;&quot;,&quot;variable-value&quot;:[&quot;${extract.selector(resp.html,&#39;forwardUrl&#39;,&#39;text&#39;)}&quot;,&quot;${forwardUrl.substring(52)}&quot;],&quot;shape&quot;:&quot;variable&quot;} </JsonProperty> </mxCell> <mxCell id="39" value="" style="strokeWidth=2;strokeColor=black;sharp=1;" parent="1" source="6" target="38" edge="1"> <mxGeometry relative="1" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;&quot;,&quot;exception-flow&quot;:&quot;0&quot;,&quot;lineWidth&quot;:&quot;2&quot;,&quot;line-style&quot;:&quot;sharp&quot;,&quot;lineColor&quot;:&quot;black&quot;,&quot;condition&quot;:&quot;&quot;,&quot;transmit-variable&quot;:&quot;1&quot;} </JsonProperty> </mxCell> <mxCell id="42" value="登出" style="request" parent="1" vertex="1"> <mxGeometry x="416" y="2" width="32" height="36" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;登出&quot;,&quot;loopVariableName&quot;:&quot;&quot;,&quot;method&quot;:&quot;GET&quot;,&quot;sleep&quot;:&quot;&quot;,&quot;timeout&quot;:&quot;&quot;,&quot;response-charset&quot;:&quot;&quot;,&quot;retryCount&quot;:&quot;&quot;,&quot;retryInterval&quot;:&quot;&quot;,&quot;body-type&quot;:&quot;none&quot;,&quot;body-content-type&quot;:&quot;text/plain&quot;,&quot;parameter-form-name&quot;:[&quot;{\&quot;method\&quot;:\&quot;login\&quot;,\&quot;user_login\&quot;:\&quot;Administrator\&quot;,\&quot;password\&quot;:\&quot;bmwh@123!@#\&quot;}&quot;],&quot;parameter-form-type&quot;:[&quot;text&quot;],&quot;parameter-form-description&quot;:[&quot;&quot;],&quot;loopCount&quot;:&quot;&quot;,&quot;url&quot;:&quot;https://${host_ip}/data/logout&quot;,&quot;proxy&quot;:&quot;&quot;,&quot;request-body&quot;:&quot;&quot;,&quot;parameter-form-filename&quot;:[&quot;&quot;],&quot;parameter-form-value&quot;:[&quot;&quot;],&quot;follow-redirect&quot;:&quot;1&quot;,&quot;tls-validate&quot;:&quot;0&quot;,&quot;cookie-auto-set&quot;:&quot;1&quot;,&quot;repeat-enable&quot;:&quot;0&quot;,&quot;shape&quot;:&quot;request&quot;} </JsonProperty> </mxCell> <mxCell id="43" value="出现异常" style="strokeWidth=2;strokeColor=red;sharp=1;" parent="1" source="38" target="42" edge="1"> <mxGeometry relative="1" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;出现异常&quot;,&quot;exception-flow&quot;:&quot;1&quot;,&quot;lineWidth&quot;:&quot;2&quot;,&quot;line-style&quot;:&quot;sharp&quot;,&quot;lineColor&quot;:&quot;red&quot;,&quot;condition&quot;:&quot;&quot;,&quot;transmit-variable&quot;:&quot;1&quot;} </JsonProperty> </mxCell> <mxCell id="53" value="" style="strokeWidth=2;sharp=1;" parent="1" source="3" target="6" edge="1"> <mxGeometry relative="1" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;&quot;,&quot;exception-flow&quot;:&quot;0&quot;,&quot;lineWidth&quot;:&quot;2&quot;,&quot;line-style&quot;:&quot;sharp&quot;,&quot;lineColor&quot;:&quot;black&quot;,&quot;condition&quot;:&quot;&quot;,&quot;transmit-variable&quot;:&quot;1&quot;} </JsonProperty> </mxCell> <mxCell id="57" value="获取存放数据的url" style="request" parent="1" vertex="1"> <mxGeometry x="618" y="96.5" width="32" height="36" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;获取存放数据的url&quot;,&quot;loopVariableName&quot;:&quot;&quot;,&quot;method&quot;:&quot;GET&quot;,&quot;sleep&quot;:&quot;2&quot;,&quot;timeout&quot;:&quot;&quot;,&quot;response-charset&quot;:&quot;&quot;,&quot;retryCount&quot;:&quot;&quot;,&quot;retryInterval&quot;:&quot;&quot;,&quot;header-name&quot;:[&quot;ST2&quot;,&quot;Accept-Language&quot;],&quot;header-description&quot;:[&quot;&quot;,&quot;&quot;],&quot;body-type&quot;:&quot;none&quot;,&quot;body-content-type&quot;:&quot;text/plain&quot;,&quot;loopCount&quot;:&quot;&quot;,&quot;url&quot;:&quot;https://${host_ip}/cemgui/js/CEMcommon.js&quot;,&quot;proxy&quot;:&quot;&quot;,&quot;header-value&quot;:[&quot;${ST2}&quot;,&quot;&quot;],&quot;request-body&quot;:&quot;&quot;,&quot;follow-redirect&quot;:&quot;1&quot;,&quot;tls-validate&quot;:&quot;0&quot;,&quot;cookie-auto-set&quot;:&quot;1&quot;,&quot;repeat-enable&quot;:&quot;0&quot;,&quot;shape&quot;:&quot;request&quot;} </JsonProperty> </mxCell> <mxCell id="58" value="解析url" style="variable" parent="1" vertex="1"> <mxGeometry x="744" y="98.5" width="30" height="32" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;解析url&quot;,&quot;loopVariableName&quot;:&quot;&quot;,&quot;variable-name&quot;:[&quot;memoryURL&quot;,&quot;pdiskURL&quot;],&quot;variable-description&quot;:[&quot;&quot;,&quot;&quot;],&quot;loopCount&quot;:&quot;&quot;,&quot;variable-value&quot;:[&quot;${extract.regx(resp.html,&#39;var memoryURI=\&quot;([^\&quot;]+)\&quot;&#39;)}&quot;,&quot;${extract.regx(resp.html,\&quot;var pdiskURL = &#39;([^&#39;]+)&#39;\&quot;)}&quot;],&quot;shape&quot;:&quot;variable&quot;} </JsonProperty> </mxCell> <mxCell id="61" value="" style="strokeWidth=2;strokeColor=#00ff00;sharp=1;" parent="1" source="57" target="58" edge="1"> <mxGeometry relative="1" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;&quot;,&quot;exception-flow&quot;:&quot;2&quot;,&quot;lineWidth&quot;:&quot;2&quot;,&quot;line-style&quot;:&quot;sharp&quot;,&quot;lineColor&quot;:&quot;#00ff00&quot;,&quot;condition&quot;:&quot;&quot;,&quot;transmit-variable&quot;:&quot;1&quot;} </JsonProperty> </mxCell> <mxCell id="64" value="登出" style="request" parent="1" vertex="1"> <mxGeometry x="618" y="6" width="32" height="32" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;登出&quot;,&quot;loopVariableName&quot;:&quot;&quot;,&quot;method&quot;:&quot;GET&quot;,&quot;sleep&quot;:&quot;&quot;,&quot;timeout&quot;:&quot;&quot;,&quot;response-charset&quot;:&quot;&quot;,&quot;retryCount&quot;:&quot;&quot;,&quot;retryInterval&quot;:&quot;&quot;,&quot;body-type&quot;:&quot;none&quot;,&quot;body-content-type&quot;:&quot;text/plain&quot;,&quot;loopCount&quot;:&quot;&quot;,&quot;url&quot;:&quot;https://${host_ip}/data/logout&quot;,&quot;proxy&quot;:&quot;&quot;,&quot;request-body&quot;:&quot;&quot;,&quot;follow-redirect&quot;:&quot;1&quot;,&quot;tls-validate&quot;:&quot;0&quot;,&quot;cookie-auto-set&quot;:&quot;1&quot;,&quot;repeat-enable&quot;:&quot;0&quot;,&quot;shape&quot;:&quot;request&quot;} </JsonProperty> </mxCell> <mxCell id="72" value="登出" style="request" parent="1" vertex="1"> <mxGeometry x="744" y="6" width="32" height="32" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;登出&quot;,&quot;loopVariableName&quot;:&quot;&quot;,&quot;method&quot;:&quot;GET&quot;,&quot;sleep&quot;:&quot;&quot;,&quot;timeout&quot;:&quot;&quot;,&quot;response-charset&quot;:&quot;&quot;,&quot;retryCount&quot;:&quot;&quot;,&quot;retryInterval&quot;:&quot;&quot;,&quot;body-type&quot;:&quot;none&quot;,&quot;body-content-type&quot;:&quot;text/plain&quot;,&quot;loopCount&quot;:&quot;&quot;,&quot;url&quot;:&quot;https://${host_ip}/data/logout&quot;,&quot;proxy&quot;:&quot;&quot;,&quot;request-body&quot;:&quot;&quot;,&quot;follow-redirect&quot;:&quot;1&quot;,&quot;tls-validate&quot;:&quot;0&quot;,&quot;cookie-auto-set&quot;:&quot;1&quot;,&quot;repeat-enable&quot;:&quot;0&quot;,&quot;shape&quot;:&quot;request&quot;} </JsonProperty> </mxCell> <mxCell id="78" value="出现异常" style="strokeWidth=2;strokeColor=red;sharp=1;" parent="1" source="57" target="64" edge="1"> <mxGeometry relative="1" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;出现异常&quot;,&quot;exception-flow&quot;:&quot;1&quot;,&quot;lineWidth&quot;:&quot;2&quot;,&quot;line-style&quot;:&quot;sharp&quot;,&quot;lineColor&quot;:&quot;red&quot;,&quot;condition&quot;:&quot;&quot;,&quot;transmit-variable&quot;:&quot;1&quot;} </JsonProperty> </mxCell> <mxCell id="79" value="出现异常" style="strokeWidth=2;strokeColor=red;sharp=1;" parent="1" source="58" target="72" edge="1"> <mxGeometry relative="1" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;出现异常&quot;,&quot;exception-flow&quot;:&quot;1&quot;,&quot;lineWidth&quot;:&quot;2&quot;,&quot;line-style&quot;:&quot;sharp&quot;,&quot;lineColor&quot;:&quot;red&quot;,&quot;condition&quot;:&quot;&quot;,&quot;transmit-variable&quot;:&quot;1&quot;} </JsonProperty> </mxCell> <mxCell id="90" value="开始抓取内存数据" style="request" parent="1" vertex="1"> <mxGeometry x="78" y="233" width="32" height="32" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;开始抓取内存数据&quot;,&quot;loopVariableName&quot;:&quot;&quot;,&quot;method&quot;:&quot;GET&quot;,&quot;sleep&quot;:&quot;2&quot;,&quot;timeout&quot;:&quot;&quot;,&quot;response-charset&quot;:&quot;&quot;,&quot;retryCount&quot;:&quot;&quot;,&quot;retryInterval&quot;:&quot;&quot;,&quot;header-name&quot;:[&quot;ST2&quot;,&quot;Accept-Language&quot;,&quot;X_SYSMGMT_OPTIMIZE&quot;],&quot;header-description&quot;:[&quot;&quot;,&quot;&quot;,&quot;&quot;],&quot;body-type&quot;:&quot;none&quot;,&quot;body-content-type&quot;:&quot;text/plain&quot;,&quot;loopCount&quot;:&quot;&quot;,&quot;url&quot;:&quot;https://${host_ip}${memoryURL}&quot;,&quot;proxy&quot;:&quot;&quot;,&quot;header-value&quot;:[&quot;${ST2}&quot;,&quot;zh-CN&quot;,&quot;true&quot;],&quot;request-body&quot;:&quot;&quot;,&quot;follow-redirect&quot;:&quot;1&quot;,&quot;tls-validate&quot;:&quot;0&quot;,&quot;cookie-auto-set&quot;:&quot;1&quot;,&quot;repeat-enable&quot;:&quot;0&quot;,&quot;shape&quot;:&quot;request&quot;} </JsonProperty> </mxCell> <mxCell id="92" value="登出" style="request" parent="1" vertex="1"> <mxGeometry x="78" y="300" width="32" height="34" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;登出&quot;,&quot;loopVariableName&quot;:&quot;&quot;,&quot;method&quot;:&quot;GET&quot;,&quot;sleep&quot;:&quot;&quot;,&quot;timeout&quot;:&quot;&quot;,&quot;response-charset&quot;:&quot;&quot;,&quot;retryCount&quot;:&quot;&quot;,&quot;retryInterval&quot;:&quot;&quot;,&quot;body-type&quot;:&quot;none&quot;,&quot;body-content-type&quot;:&quot;text/plain&quot;,&quot;loopCount&quot;:&quot;&quot;,&quot;url&quot;:&quot;https://${host_ip}/data/logout&quot;,&quot;proxy&quot;:&quot;&quot;,&quot;request-body&quot;:&quot;&quot;,&quot;follow-redirect&quot;:&quot;1&quot;,&quot;tls-validate&quot;:&quot;0&quot;,&quot;cookie-auto-set&quot;:&quot;1&quot;,&quot;repeat-enable&quot;:&quot;0&quot;,&quot;shape&quot;:&quot;request&quot;} </JsonProperty> </mxCell> <mxCell id="93" value="" style="strokeWidth=2;strokeColor=red;sharp=1;" parent="1" source="90" target="92" edge="1"> <mxGeometry relative="1" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;&quot;,&quot;exception-flow&quot;:&quot;1&quot;,&quot;lineWidth&quot;:&quot;2&quot;,&quot;line-style&quot;:&quot;sharp&quot;,&quot;lineColor&quot;:&quot;red&quot;,&quot;condition&quot;:&quot;&quot;,&quot;transmit-variable&quot;:&quot;1&quot;} </JsonProperty> </mxCell> <mxCell id="94" value="解析数据" style="variable" parent="1" vertex="1"> <mxGeometry x="184" y="232" width="32" height="33" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;解析数据&quot;,&quot;loopVariableName&quot;:&quot;&quot;,&quot;variable-name&quot;:[&quot;memory_sizeList&quot;,&quot;memory_typeList&quot;,&quot;memory_speedList&quot;,&quot;memory_nameList&quot;,&quot;memory_statusList&quot;,&quot;memory_list&quot;],&quot;variable-description&quot;:[&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;],&quot;loopCount&quot;:&quot;&quot;,&quot;variable-value&quot;:[&quot;${extract.jsonpath(resp.json,&#39;$.DIMM..size&#39;)}&quot;,&quot;${extract.jsonpath(resp.json,&#39;$.DIMM..type&#39;)}&quot;,&quot;${extract.jsonpath(resp.json,&#39;$.DIMM..speed&#39;)}&quot;,&quot;${extract.jsonpath(resp.json,&#39;$.DIMM..name&#39;)}&quot;,&quot;${extract.jsonpath(resp.json,&#39;$.DIMM..status&#39;)}&quot;,&quot;${[]}&quot;],&quot;shape&quot;:&quot;variable&quot;} </JsonProperty> </mxCell> <mxCell id="95" value="" style="strokeWidth=2;strokeColor=#00ff00;sharp=1;" parent="1" source="90" target="94" edge="1"> <mxGeometry relative="1" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;&quot;,&quot;exception-flow&quot;:&quot;2&quot;,&quot;lineWidth&quot;:&quot;2&quot;,&quot;line-style&quot;:&quot;sharp&quot;,&quot;lineColor&quot;:&quot;#00ff00&quot;,&quot;condition&quot;:&quot;&quot;,&quot;transmit-variable&quot;:&quot;1&quot;} </JsonProperty> </mxCell> <mxCell id="109" value="MB转换为GB" style="function" parent="1" vertex="1"> <mxGeometry x="284" y="233" width="32" height="32" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;MB转换为GB&quot;,&quot;loopVariableName&quot;:&quot;&quot;,&quot;loopCount&quot;:&quot;&quot;,&quot;function&quot;:[&quot;${memory_typeList=typeToName(memory_typeList)}&quot;,&quot;${memory_list.add(filter_empty_memory(memory_nameList,memory_typeList,memory_speedList,memory_sizeList,memory_statusList))}&quot;],&quot;shape&quot;:&quot;function&quot;} </JsonProperty> </mxCell> <mxCell id="115" value="获取cpu数据的url" style="request" parent="1" vertex="1"> <mxGeometry x="78" y="381" width="32" height="36" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;获取cpu数据的url&quot;,&quot;loopVariableName&quot;:&quot;&quot;,&quot;method&quot;:&quot;GET&quot;,&quot;sleep&quot;:&quot;2&quot;,&quot;timeout&quot;:&quot;&quot;,&quot;response-charset&quot;:&quot;&quot;,&quot;retryCount&quot;:&quot;&quot;,&quot;retryInterval&quot;:&quot;&quot;,&quot;header-name&quot;:[&quot;ST2&quot;,&quot;Accept-Language&quot;],&quot;header-description&quot;:[&quot;&quot;,&quot;&quot;],&quot;body-type&quot;:&quot;none&quot;,&quot;body-content-type&quot;:&quot;text/plain&quot;,&quot;loopCount&quot;:&quot;&quot;,&quot;url&quot;:&quot;https://${host_ip}/cemgui/listcpu.html?cat=C21&amp;tab=T42&amp;id=P56&quot;,&quot;proxy&quot;:&quot;&quot;,&quot;header-value&quot;:[&quot;${ST2}&quot;,&quot;&quot;],&quot;request-body&quot;:&quot;&quot;,&quot;follow-redirect&quot;:&quot;1&quot;,&quot;tls-validate&quot;:&quot;0&quot;,&quot;cookie-auto-set&quot;:&quot;1&quot;,&quot;repeat-enable&quot;:&quot;0&quot;,&quot;shape&quot;:&quot;request&quot;} </JsonProperty> </mxCell> <mxCell id="119" value="获取cpu数据url" style="variable" parent="1" vertex="1"> <mxGeometry x="184" y="380" width="32" height="38" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;获取cpu数据url&quot;,&quot;loopVariableName&quot;:&quot;&quot;,&quot;variable-name&quot;:[&quot;processorURL&quot;],&quot;variable-description&quot;:[&quot;&quot;],&quot;loopCount&quot;:&quot;&quot;,&quot;variable-value&quot;:[&quot;${extract.regx(resp.html,\&quot;var processorURI = &#39;([^&#39;]+)&#39;\&quot;)}&quot;],&quot;shape&quot;:&quot;variable&quot;} </JsonProperty> </mxCell> <mxCell id="122" value="开始抓取cpu数据" style="request" parent="1" vertex="1"> <mxGeometry x="284" y="383" width="32" height="32" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;开始抓取cpu数据&quot;,&quot;loopVariableName&quot;:&quot;&quot;,&quot;method&quot;:&quot;GET&quot;,&quot;sleep&quot;:&quot;2&quot;,&quot;timeout&quot;:&quot;&quot;,&quot;response-charset&quot;:&quot;&quot;,&quot;retryCount&quot;:&quot;&quot;,&quot;retryInterval&quot;:&quot;&quot;,&quot;header-name&quot;:[&quot;ST2&quot;,&quot;Accept-Language&quot;,&quot;X_SYSMGMT_OPTIMIZE&quot;],&quot;header-description&quot;:[&quot;&quot;,&quot;&quot;,&quot;&quot;],&quot;body-type&quot;:&quot;none&quot;,&quot;body-content-type&quot;:&quot;text/plain&quot;,&quot;loopCount&quot;:&quot;&quot;,&quot;url&quot;:&quot;https://${host_ip}${processorURL}&quot;,&quot;proxy&quot;:&quot;&quot;,&quot;header-value&quot;:[&quot;${ST2}&quot;,&quot;zh-CN&quot;,&quot;true&quot;],&quot;request-body&quot;:&quot;&quot;,&quot;follow-redirect&quot;:&quot;1&quot;,&quot;tls-validate&quot;:&quot;0&quot;,&quot;cookie-auto-set&quot;:&quot;1&quot;,&quot;repeat-enable&quot;:&quot;0&quot;,&quot;shape&quot;:&quot;request&quot;} </JsonProperty> </mxCell> <mxCell id="123" value="登出" style="request" parent="1" vertex="1"> <mxGeometry x="284" y="446" width="32" height="34" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;登出&quot;,&quot;loopVariableName&quot;:&quot;&quot;,&quot;method&quot;:&quot;GET&quot;,&quot;sleep&quot;:&quot;&quot;,&quot;timeout&quot;:&quot;&quot;,&quot;response-charset&quot;:&quot;&quot;,&quot;retryCount&quot;:&quot;&quot;,&quot;retryInterval&quot;:&quot;&quot;,&quot;body-type&quot;:&quot;none&quot;,&quot;body-content-type&quot;:&quot;text/plain&quot;,&quot;loopCount&quot;:&quot;&quot;,&quot;url&quot;:&quot;https://${host_ip}/data/logout&quot;,&quot;proxy&quot;:&quot;&quot;,&quot;request-body&quot;:&quot;&quot;,&quot;follow-redirect&quot;:&quot;1&quot;,&quot;tls-validate&quot;:&quot;0&quot;,&quot;cookie-auto-set&quot;:&quot;1&quot;,&quot;repeat-enable&quot;:&quot;0&quot;,&quot;shape&quot;:&quot;request&quot;} </JsonProperty> </mxCell> <mxCell id="124" value="" style="strokeWidth=2;strokeColor=red;sharp=1;" parent="1" source="122" target="123" edge="1"> <mxGeometry relative="1" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;&quot;,&quot;exception-flow&quot;:&quot;1&quot;,&quot;lineWidth&quot;:&quot;2&quot;,&quot;line-style&quot;:&quot;sharp&quot;,&quot;lineColor&quot;:&quot;red&quot;,&quot;condition&quot;:&quot;&quot;,&quot;transmit-variable&quot;:&quot;1&quot;} </JsonProperty> </mxCell> <mxCell id="125" value="解析数据" style="variable" parent="1" vertex="1"> <mxGeometry x="434" y="377" width="32" height="44" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;解析数据&quot;,&quot;loopVariableName&quot;:&quot;&quot;,&quot;variable-name&quot;:[&quot;lld_cpu_list&quot;,&quot;core_count_list&quot;,&quot;current_speed_list&quot;,&quot;cpu_status_list&quot;,&quot;cpu_brand_list&quot;,&quot;cpu_hyperThreading_capable&quot;,&quot;cpu_hyperThreading_enabled&quot;,&quot;cpu_virtualizationTech_capable&quot;,&quot;cpu_virtualizationTech_enabled&quot;],&quot;variable-description&quot;:[&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;],&quot;loopCount&quot;:&quot;&quot;,&quot;variable-value&quot;:[&quot;${extract.jsonpath(resp.json,&#39;$..device_description&#39;)}&quot;,&quot;${extract.jsonpath(resp.json,&#39;$..core_count&#39;)}&quot;,&quot;${extract.jsonpath(resp.json,&#39;$..current_speed&#39;)}&quot;,&quot;${extract.jsonpath(resp.json,&#39;$..status&#39;)}&quot;,&quot;${extract.jsonpath(resp.json,&#39;$..brand&#39;)}&quot;,&quot;${extract.jsonpath(resp.json,&#39;$..hyperThreading.capable&#39;)}&quot;,&quot;${extract.jsonpath(resp.json,&#39;$..hyperThreading.enabled&#39;)}&quot;,&quot;${extract.jsonpath(resp.json,&#39;$..virtualizationTech.capable&#39;)}&quot;,&quot;${extract.jsonpath(resp.json,&#39;$..virtualizationTech.enabled&#39;)}&quot;],&quot;shape&quot;:&quot;variable&quot;} </JsonProperty> </mxCell> <mxCell id="130" value="" style="strokeWidth=2;strokeColor=#00ff00;sharp=1;" parent="1" source="115" target="119" edge="1"> <mxGeometry relative="1" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;&quot;,&quot;exception-flow&quot;:&quot;2&quot;,&quot;lineWidth&quot;:&quot;2&quot;,&quot;line-style&quot;:&quot;sharp&quot;,&quot;lineColor&quot;:&quot;#00ff00&quot;,&quot;condition&quot;:&quot;&quot;,&quot;transmit-variable&quot;:&quot;1&quot;} </JsonProperty> </mxCell> <mxCell id="133" value="输出CPU信息" style="output" parent="1" vertex="1"> <mxGeometry x="538" y="368.5" width="32" height="67" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;输出CPU信息&quot;,&quot;loopVariableName&quot;:&quot;i&quot;,&quot;tableName&quot;:&quot;&quot;,&quot;csvName&quot;:&quot;/data/csv_file/cpu_info.csv&quot;,&quot;csvEncoding&quot;:&quot;GBK&quot;,&quot;output-name&quot;:[&quot;ip&quot;,&quot;lld_cpu&quot;,&quot;brand&quot;,&quot;core_count&quot;,&quot;current_speed&quot;,&quot;status&quot;,&quot;hyperThreading_capable&quot;,&quot;hyperThreading_enabled&quot;,&quot;virtualizationTech_capable&quot;,&quot;virtualizationTech_enabled&quot;],&quot;loopCount&quot;:&quot;${list.length(lld_cpu_list)}&quot;,&quot;output-value&quot;:[&quot;${host_ip}&quot;,&quot;${lld_cpu_list[i]}&quot;,&quot;${cpu_brand_list[i]}&quot;,&quot;${core_count_list[i]}&quot;,&quot;${current_speed_list[i]}&quot;,&quot;${cpu_status_list[i]}&quot;,&quot;${cpu_hyperThreading_capable[i]}&quot;,&quot;${cpu_hyperThreading_enabled[i]}&quot;,&quot;${cpu_virtualizationTech_capable[i]}&quot;,&quot;${cpu_virtualizationTech_enabled[i]}&quot;],&quot;output-all&quot;:&quot;0&quot;,&quot;output-database&quot;:&quot;0&quot;,&quot;output-csv&quot;:&quot;1&quot;,&quot;shape&quot;:&quot;output&quot;} </JsonProperty> </mxCell> <mxCell id="134" value="输出CSV" style="strokeWidth=2;strokeColor=#00ff00;sharp=1;" parent="1" source="125" target="133" edge="1"> <mxGeometry relative="1" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;输出CSV&quot;,&quot;exception-flow&quot;:&quot;2&quot;,&quot;lineWidth&quot;:&quot;2&quot;,&quot;line-style&quot;:&quot;sharp&quot;,&quot;lineColor&quot;:&quot;#00ff00&quot;,&quot;condition&quot;:&quot;&quot;,&quot;transmit-variable&quot;:&quot;1&quot;} </JsonProperty> </mxCell> <mxCell id="137" value="" style="strokeWidth=2;strokeColor=#00ff00;sharp=1;" parent="1" source="119" target="122" edge="1"> <mxGeometry relative="1" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;&quot;,&quot;exception-flow&quot;:&quot;2&quot;,&quot;lineWidth&quot;:&quot;2&quot;,&quot;line-style&quot;:&quot;sharp&quot;,&quot;lineColor&quot;:&quot;#00ff00&quot;,&quot;condition&quot;:&quot;&quot;,&quot;transmit-variable&quot;:&quot;1&quot;} </JsonProperty> </mxCell> <mxCell id="138" value="" style="strokeWidth=2;strokeColor=#00ff00;sharp=1;" parent="1" source="122" target="125" edge="1"> <mxGeometry relative="1" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;&quot;,&quot;exception-flow&quot;:&quot;2&quot;,&quot;lineWidth&quot;:&quot;2&quot;,&quot;line-style&quot;:&quot;sharp&quot;,&quot;lineColor&quot;:&quot;#00ff00&quot;,&quot;condition&quot;:&quot;&quot;,&quot;transmit-variable&quot;:&quot;1&quot;} </JsonProperty> </mxCell> <mxCell id="139" value="登出" style="request" parent="1" vertex="1"> <mxGeometry x="78" y="448" width="32" height="32" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;登出&quot;,&quot;loopVariableName&quot;:&quot;&quot;,&quot;method&quot;:&quot;GET&quot;,&quot;sleep&quot;:&quot;&quot;,&quot;timeout&quot;:&quot;&quot;,&quot;response-charset&quot;:&quot;&quot;,&quot;retryCount&quot;:&quot;&quot;,&quot;retryInterval&quot;:&quot;&quot;,&quot;body-type&quot;:&quot;none&quot;,&quot;body-content-type&quot;:&quot;text/plain&quot;,&quot;loopCount&quot;:&quot;&quot;,&quot;url&quot;:&quot;https://${host_ip}/data/logout&quot;,&quot;proxy&quot;:&quot;&quot;,&quot;request-body&quot;:&quot;&quot;,&quot;follow-redirect&quot;:&quot;1&quot;,&quot;tls-validate&quot;:&quot;0&quot;,&quot;cookie-auto-set&quot;:&quot;1&quot;,&quot;repeat-enable&quot;:&quot;0&quot;,&quot;shape&quot;:&quot;request&quot;} </JsonProperty> </mxCell> <mxCell id="140" value="" style="strokeWidth=2;strokeColor=red;sharp=1;" parent="1" source="115" target="139" edge="1"> <mxGeometry relative="1" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;&quot;,&quot;exception-flow&quot;:&quot;1&quot;,&quot;lineWidth&quot;:&quot;2&quot;,&quot;line-style&quot;:&quot;sharp&quot;,&quot;lineColor&quot;:&quot;red&quot;,&quot;condition&quot;:&quot;&quot;,&quot;transmit-variable&quot;:&quot;1&quot;} </JsonProperty> </mxCell> <mxCell id="144" value="开始抓取磁盘数据" style="request" parent="1" vertex="1"> <mxGeometry x="880" y="101" width="32" height="32" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;开始抓取磁盘数据&quot;,&quot;loopVariableName&quot;:&quot;&quot;,&quot;method&quot;:&quot;GET&quot;,&quot;sleep&quot;:&quot;2&quot;,&quot;timeout&quot;:&quot;&quot;,&quot;response-charset&quot;:&quot;&quot;,&quot;retryCount&quot;:&quot;&quot;,&quot;retryInterval&quot;:&quot;&quot;,&quot;header-name&quot;:[&quot;ST2&quot;,&quot;Accept-Language&quot;,&quot;X_SYSMGMT_OPTIMIZE&quot;],&quot;header-description&quot;:[&quot;&quot;,&quot;&quot;,&quot;&quot;],&quot;body-type&quot;:&quot;none&quot;,&quot;body-content-type&quot;:&quot;text/plain&quot;,&quot;loopCount&quot;:&quot;&quot;,&quot;url&quot;:&quot;https://${host_ip}${pdiskURL}&quot;,&quot;proxy&quot;:&quot;&quot;,&quot;header-value&quot;:[&quot;${ST2}&quot;,&quot;zh-CN&quot;,&quot;true&quot;],&quot;request-body&quot;:&quot;&quot;,&quot;follow-redirect&quot;:&quot;1&quot;,&quot;tls-validate&quot;:&quot;0&quot;,&quot;cookie-auto-set&quot;:&quot;1&quot;,&quot;repeat-enable&quot;:&quot;0&quot;,&quot;shape&quot;:&quot;request&quot;} </JsonProperty> </mxCell> <mxCell id="151" value="" style="strokeWidth=2;strokeColor=#00ff00;sharp=1;" parent="1" source="38" target="57" edge="1"> <mxGeometry relative="1" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;&quot;,&quot;exception-flow&quot;:&quot;2&quot;,&quot;lineWidth&quot;:&quot;2&quot;,&quot;line-style&quot;:&quot;sharp&quot;,&quot;lineColor&quot;:&quot;#00ff00&quot;,&quot;condition&quot;:&quot;&quot;,&quot;transmit-variable&quot;:&quot;1&quot;} </JsonProperty> </mxCell> <mxCell id="155" value="解析数据" style="variable" parent="1" vertex="1"> <mxGeometry x="986" y="101" width="32" height="32" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;解析数据&quot;,&quot;loopVariableName&quot;:&quot;&quot;,&quot;variable-name&quot;:[&quot;disk_nameList&quot;,&quot;disk_typeList&quot;,&quot;disk_freeSpaceList&quot;,&quot;disk_sizeList&quot;,&quot;disk_usedSpaceList&quot;,&quot;disk_statusList&quot;,&quot;disk_enclosures&quot;],&quot;variable-description&quot;:[&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;],&quot;loopCount&quot;:&quot;&quot;,&quot;variable-value&quot;:[&quot;${extract.jsonpath(resp.json,&#39;$..name&#39;)}&quot;,&quot;${extract.jsonpath(resp.json,&#39;$..media_type&#39;)}&quot;,&quot;${extract.jsonpath(resp.json,&#39;$..free_space&#39;)}&quot;,&quot;${extract.jsonpath(resp.json,&#39;$..size&#39;)}&quot;,&quot;${extract.jsonpath(resp.json,&#39;$..used_space&#39;)}&quot;,&quot;${extract.jsonpath(resp.json,&#39;$..status&#39;)}&quot;,&quot;${extract.jsonpath(resp.json,&#39;$..enclosures&#39;)}&quot;],&quot;shape&quot;:&quot;variable&quot;} </JsonProperty> </mxCell> <mxCell id="157" value="输出磁盘信息" style="output" parent="1" vertex="1"> <mxGeometry x="1340" y="100.5" width="32" height="32" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;输出磁盘信息&quot;,&quot;loopVariableName&quot;:&quot;&quot;,&quot;tableName&quot;:&quot;&quot;,&quot;csvName&quot;:&quot;/data/csv_file/disk_info.csv&quot;,&quot;csvEncoding&quot;:&quot;UTF-8&quot;,&quot;output-name&quot;:[&quot;ip&quot;,&quot;lld_disk&quot;,&quot;type&quot;,&quot;size&quot;,&quot;status&quot;],&quot;loopCount&quot;:&quot;&quot;,&quot;output-value&quot;:[&quot;${host_ip}&quot;,&quot;${disk_nameList[disk_count]}&quot;,&quot;${disk_typeList[disk_count]}&quot;,&quot;${disk_sizeList[disk_count]}&quot;,&quot;${disk_statusList[disk_count]}&quot;],&quot;output-all&quot;:&quot;0&quot;,&quot;output-database&quot;:&quot;0&quot;,&quot;output-csv&quot;:&quot;1&quot;,&quot;shape&quot;:&quot;output&quot;} </JsonProperty> </mxCell> <mxCell id="161" value="登出" style="request" parent="1" vertex="1"> <mxGeometry x="880" y="2" width="32" height="34" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;登出&quot;,&quot;loopVariableName&quot;:&quot;&quot;,&quot;method&quot;:&quot;GET&quot;,&quot;sleep&quot;:&quot;&quot;,&quot;timeout&quot;:&quot;&quot;,&quot;response-charset&quot;:&quot;&quot;,&quot;retryCount&quot;:&quot;&quot;,&quot;retryInterval&quot;:&quot;&quot;,&quot;body-type&quot;:&quot;none&quot;,&quot;body-content-type&quot;:&quot;text/plain&quot;,&quot;loopCount&quot;:&quot;&quot;,&quot;url&quot;:&quot;https://${host_ip}/data/logout&quot;,&quot;proxy&quot;:&quot;&quot;,&quot;request-body&quot;:&quot;&quot;,&quot;follow-redirect&quot;:&quot;1&quot;,&quot;tls-validate&quot;:&quot;0&quot;,&quot;cookie-auto-set&quot;:&quot;1&quot;,&quot;repeat-enable&quot;:&quot;0&quot;,&quot;shape&quot;:&quot;request&quot;} </JsonProperty> </mxCell> <mxCell id="165" value="" style="strokeWidth=2;strokeColor=red;sharp=1;" parent="1" source="144" target="161" edge="1"> <mxGeometry relative="1" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;&quot;,&quot;exception-flow&quot;:&quot;1&quot;,&quot;lineWidth&quot;:&quot;2&quot;,&quot;line-style&quot;:&quot;sharp&quot;,&quot;lineColor&quot;:&quot;red&quot;,&quot;condition&quot;:&quot;&quot;,&quot;transmit-variable&quot;:&quot;1&quot;} </JsonProperty> </mxCell> <mxCell id="169" value="解析磁盘类型" style="function" parent="1" vertex="1"> <mxGeometry x="1050" y="101" width="32" height="32" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;解析磁盘类型&quot;,&quot;loopVariableName&quot;:&quot;&quot;,&quot;loopCount&quot;:&quot;&quot;,&quot;function&quot;:[&quot;${disk_typeList=disk_typeToName(disk_typeList)}&quot;,&quot;${disk_sizeList=ByteToGb(disk_sizeList,3)}&quot;],&quot;shape&quot;:&quot;function&quot;} </JsonProperty> </mxCell> <mxCell id="181" value="" style="strokeWidth=2;strokeColor=#00ff00;sharp=1;" parent="1" source="94" target="109" edge="1"> <mxGeometry relative="1" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;&quot;,&quot;exception-flow&quot;:&quot;2&quot;,&quot;lineWidth&quot;:&quot;2&quot;,&quot;line-style&quot;:&quot;sharp&quot;,&quot;lineColor&quot;:&quot;#00ff00&quot;,&quot;condition&quot;:&quot;&quot;,&quot;transmit-variable&quot;:&quot;1&quot;} </JsonProperty> </mxCell> <mxCell id="207" value="输出风扇信息" style="output" parent="1" vertex="1"> <mxGeometry x="544" y="552" width="32" height="32" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;输出风扇信息&quot;,&quot;loopVariableName&quot;:&quot;i&quot;,&quot;tableName&quot;:&quot;&quot;,&quot;csvName&quot;:&quot;/data/csv_file/fan_info.csv&quot;,&quot;csvEncoding&quot;:&quot;UTF-8&quot;,&quot;output-name&quot;:[&quot;ip&quot;,&quot;lld_fan&quot;,&quot;reading&quot;,&quot;status&quot;,&quot;lld_minWarning&quot;,&quot;lld_minFailure&quot;],&quot;loopCount&quot;:&quot;${list.length(extract.selectors(thresholdSensorList,&#39;name&#39;,&#39;text&#39;))}&quot;,&quot;output-value&quot;:[&quot;${host_ip}&quot;,&quot;${extract.selectors(thresholdSensorList,&#39;name&#39;,&#39;text&#39;)[i]}&quot;,&quot;${extract.selectors(thresholdSensorList,&#39;reading&#39;,&#39;text&#39;)[i]}&quot;,&quot;${extract.selectors(thresholdSensorList,&#39;sensorStatus&#39;,&#39;text&#39;)[i]}&quot;,&quot;${extract.selectors(thresholdSensorList,&#39;minWarning&#39;,&#39;text&#39;)[i]}&quot;,&quot;${extract.selectors(thresholdSensorList,&#39;minFailure&#39;,&#39;text&#39;)[i]}&quot;],&quot;output-all&quot;:&quot;0&quot;,&quot;output-database&quot;:&quot;0&quot;,&quot;output-csv&quot;:&quot;1&quot;,&quot;shape&quot;:&quot;output&quot;} </JsonProperty> </mxCell> <mxCell id="208" value="获取风扇信息" style="request" parent="1" vertex="1"> <mxGeometry x="78" y="541" width="32" height="52" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;获取风扇信息&quot;,&quot;loopVariableName&quot;:&quot;&quot;,&quot;method&quot;:&quot;GET&quot;,&quot;sleep&quot;:&quot;2&quot;,&quot;timeout&quot;:&quot;&quot;,&quot;response-charset&quot;:&quot;&quot;,&quot;retryCount&quot;:&quot;&quot;,&quot;retryInterval&quot;:&quot;&quot;,&quot;header-name&quot;:[&quot;Accept-Language&quot;,&quot;ST2&quot;],&quot;header-description&quot;:[&quot;&quot;,&quot;&quot;],&quot;body-type&quot;:&quot;none&quot;,&quot;body-content-type&quot;:&quot;text/plain&quot;,&quot;loopCount&quot;:&quot;&quot;,&quot;url&quot;:&quot;https://${host_ip}/data?get=fans,fansRedundancy&quot;,&quot;proxy&quot;:&quot;&quot;,&quot;header-value&quot;:[&quot;zh-CN,zh;q=0.8,zh-TW;q=0.7,zh-HK;q=0.5,en-US;q=0.3,en;q=0.2&quot;,&quot;${ST2}&quot;],&quot;request-body&quot;:&quot;&quot;,&quot;follow-redirect&quot;:&quot;1&quot;,&quot;tls-validate&quot;:&quot;0&quot;,&quot;cookie-auto-set&quot;:&quot;1&quot;,&quot;repeat-enable&quot;:&quot;0&quot;,&quot;shape&quot;:&quot;request&quot;} </JsonProperty> </mxCell> <mxCell id="209" value="解析数据" style="variable" parent="1" vertex="1"> <mxGeometry x="434" y="551" width="32" height="32" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;解析数据&quot;,&quot;loopVariableName&quot;:&quot;&quot;,&quot;variable-name&quot;:[&quot;thresholdSensorList&quot;,&quot;discreteSensorList&quot;],&quot;variable-description&quot;:[&quot;&quot;,&quot;&quot;],&quot;loopCount&quot;:&quot;&quot;,&quot;variable-value&quot;:[&quot;${extract.xpath(resp.html,&#39;thresholdSensorList&#39;)}&quot;,&quot;${extract.xpath(resp.html,&#39;discreteSensorList&#39;)}&quot;],&quot;shape&quot;:&quot;variable&quot;} </JsonProperty> </mxCell> <mxCell id="210" value="" style="strokeWidth=2;strokeColor=#00ff00;sharp=1;" parent="1" source="208" target="209" edge="1"> <mxGeometry relative="1" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;&quot;,&quot;exception-flow&quot;:&quot;2&quot;,&quot;lineWidth&quot;:&quot;2&quot;,&quot;line-style&quot;:&quot;sharp&quot;,&quot;lineColor&quot;:&quot;#00ff00&quot;,&quot;condition&quot;:&quot;&quot;,&quot;transmit-variable&quot;:&quot;1&quot;} </JsonProperty> </mxCell> <mxCell id="211" value="输出CSV" style="strokeWidth=2;strokeColor=#00ff00;sharp=1;" parent="1" source="209" target="207" edge="1"> <mxGeometry relative="1" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;输出CSV&quot;,&quot;exception-flow&quot;:&quot;2&quot;,&quot;lineWidth&quot;:&quot;2&quot;,&quot;line-style&quot;:&quot;sharp&quot;,&quot;lineColor&quot;:&quot;#00ff00&quot;,&quot;condition&quot;:&quot;&quot;,&quot;transmit-variable&quot;:&quot;1&quot;} </JsonProperty> </mxCell> <mxCell id="215" value="获取系统基本信息" style="request" parent="1" vertex="1"> <mxGeometry x="78" y="691" width="32" height="32" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;获取系统基本信息&quot;,&quot;loopVariableName&quot;:&quot;&quot;,&quot;method&quot;:&quot;GET&quot;,&quot;sleep&quot;:&quot;2&quot;,&quot;timeout&quot;:&quot;&quot;,&quot;response-charset&quot;:&quot;&quot;,&quot;retryCount&quot;:&quot;&quot;,&quot;retryInterval&quot;:&quot;&quot;,&quot;header-name&quot;:[&quot;ST2&quot;,&quot;Accept-Language&quot;],&quot;header-description&quot;:[&quot;&quot;,&quot;&quot;],&quot;body-type&quot;:&quot;none&quot;,&quot;body-content-type&quot;:&quot;text/plain&quot;,&quot;loopCount&quot;:&quot;&quot;,&quot;url&quot;:&quot;https://${host_ip}/data?get=sysDesc,fwVersion,v4IPAddr,macAddr&quot;,&quot;proxy&quot;:&quot;&quot;,&quot;header-value&quot;:[&quot;${ST2}&quot;,&quot;&quot;],&quot;request-body&quot;:&quot;&quot;,&quot;follow-redirect&quot;:&quot;1&quot;,&quot;tls-validate&quot;:&quot;0&quot;,&quot;cookie-auto-set&quot;:&quot;1&quot;,&quot;repeat-enable&quot;:&quot;0&quot;,&quot;shape&quot;:&quot;request&quot;} </JsonProperty> </mxCell> <mxCell id="216" value="解析数据" style="variable" parent="1" vertex="1"> <mxGeometry x="434" y="691" width="32" height="32" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;解析数据&quot;,&quot;loopVariableName&quot;:&quot;&quot;,&quot;variable-name&quot;:[&quot;sysDesc&quot;,&quot;hostname&quot;,&quot;fwVersion&quot;,&quot;macAddr&quot;],&quot;variable-description&quot;:[&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;],&quot;loopCount&quot;:&quot;&quot;,&quot;variable-value&quot;:[&quot;${extract.selectors(resp.html,&#39;sysDesc&#39;,&#39;text&#39;)[0]}&quot;,&quot;${extract.selectors(resp.html,&#39;hostname&#39;,&#39;text&#39;)[0]}&quot;,&quot;${extract.selectors(resp.html,&#39;fwVersion&#39;,&#39;text&#39;)[0]}&quot;,&quot;${extract.selectors(resp.html,&#39;macAddr&#39;,&#39;text&#39;)[0]}&quot;],&quot;shape&quot;:&quot;variable&quot;} </JsonProperty> </mxCell> <mxCell id="217" value="输出系统基本信息" style="output" parent="1" vertex="1"> <mxGeometry x="538" y="692" width="32" height="32" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;输出系统基本信息&quot;,&quot;loopVariableName&quot;:&quot;&quot;,&quot;tableName&quot;:&quot;&quot;,&quot;csvName&quot;:&quot;/data/csv_file/sys_info.csv&quot;,&quot;csvEncoding&quot;:&quot;UTF-8&quot;,&quot;output-name&quot;:[&quot;ip&quot;,&quot;sysDesc&quot;,&quot;hostname&quot;,&quot;fwVersion&quot;,&quot;macAddr&quot;],&quot;loopCount&quot;:&quot;&quot;,&quot;output-value&quot;:[&quot;${host_ip}&quot;,&quot;${sysDesc}&quot;,&quot;${hostname}&quot;,&quot;${fwVersion}&quot;,&quot;${macAddr}&quot;],&quot;output-all&quot;:&quot;0&quot;,&quot;output-database&quot;:&quot;0&quot;,&quot;output-csv&quot;:&quot;1&quot;,&quot;shape&quot;:&quot;output&quot;} </JsonProperty> </mxCell> <mxCell id="218" value="" style="strokeWidth=2;strokeColor=#00ff00;sharp=1;" parent="1" source="215" target="216" edge="1"> <mxGeometry relative="1" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;&quot;,&quot;exception-flow&quot;:&quot;2&quot;,&quot;lineWidth&quot;:&quot;2&quot;,&quot;line-style&quot;:&quot;sharp&quot;,&quot;lineColor&quot;:&quot;#00ff00&quot;,&quot;condition&quot;:&quot;&quot;,&quot;transmit-variable&quot;:&quot;1&quot;} </JsonProperty> </mxCell> <mxCell id="219" value="输出CSV" style="strokeWidth=2;strokeColor=#00ff00;sharp=1;" parent="1" source="216" target="217" edge="1"> <mxGeometry relative="1" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;输出CSV&quot;,&quot;exception-flow&quot;:&quot;2&quot;,&quot;lineWidth&quot;:&quot;2&quot;,&quot;line-style&quot;:&quot;sharp&quot;,&quot;lineColor&quot;:&quot;#00ff00&quot;,&quot;condition&quot;:&quot;&quot;,&quot;transmit-variable&quot;:&quot;1&quot;} </JsonProperty> </mxCell> <mxCell id="220" value="登出" style="request" parent="1" vertex="1"> <mxGeometry x="78" y="757" width="32" height="32" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;登出&quot;,&quot;loopVariableName&quot;:&quot;&quot;,&quot;method&quot;:&quot;GET&quot;,&quot;sleep&quot;:&quot;&quot;,&quot;timeout&quot;:&quot;&quot;,&quot;response-charset&quot;:&quot;&quot;,&quot;retryCount&quot;:&quot;&quot;,&quot;retryInterval&quot;:&quot;&quot;,&quot;body-type&quot;:&quot;none&quot;,&quot;body-content-type&quot;:&quot;text/plain&quot;,&quot;loopCount&quot;:&quot;&quot;,&quot;url&quot;:&quot;https://${host_ip}/data/logout&quot;,&quot;proxy&quot;:&quot;&quot;,&quot;request-body&quot;:&quot;&quot;,&quot;follow-redirect&quot;:&quot;1&quot;,&quot;tls-validate&quot;:&quot;0&quot;,&quot;cookie-auto-set&quot;:&quot;1&quot;,&quot;repeat-enable&quot;:&quot;0&quot;,&quot;shape&quot;:&quot;request&quot;} </JsonProperty> </mxCell> <mxCell id="224" value="出现异常" style="strokeWidth=2;strokeColor=red;sharp=1;" parent="1" source="215" target="220" edge="1"> <mxGeometry relative="1" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;出现异常&quot;,&quot;exception-flow&quot;:&quot;1&quot;,&quot;lineWidth&quot;:&quot;2&quot;,&quot;line-style&quot;:&quot;sharp&quot;,&quot;lineColor&quot;:&quot;red&quot;,&quot;condition&quot;:&quot;&quot;,&quot;transmit-variable&quot;:&quot;1&quot;} </JsonProperty> </mxCell> <mxCell id="231" value="登出" style="request" parent="1" vertex="1"> <mxGeometry x="78" y="609" width="32" height="32" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;登出&quot;,&quot;loopVariableName&quot;:&quot;&quot;,&quot;method&quot;:&quot;GET&quot;,&quot;sleep&quot;:&quot;&quot;,&quot;timeout&quot;:&quot;&quot;,&quot;response-charset&quot;:&quot;&quot;,&quot;retryCount&quot;:&quot;&quot;,&quot;retryInterval&quot;:&quot;&quot;,&quot;body-type&quot;:&quot;none&quot;,&quot;body-content-type&quot;:&quot;text/plain&quot;,&quot;loopCount&quot;:&quot;&quot;,&quot;url&quot;:&quot;https://${host_ip}/data/logout&quot;,&quot;proxy&quot;:&quot;&quot;,&quot;request-body&quot;:&quot;&quot;,&quot;follow-redirect&quot;:&quot;1&quot;,&quot;tls-validate&quot;:&quot;0&quot;,&quot;cookie-auto-set&quot;:&quot;1&quot;,&quot;repeat-enable&quot;:&quot;0&quot;,&quot;shape&quot;:&quot;request&quot;} </JsonProperty> </mxCell> <mxCell id="234" value="" style="strokeWidth=2;strokeColor=red;sharp=1;" parent="1" source="208" target="231" edge="1"> <mxGeometry relative="1" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;&quot;,&quot;exception-flow&quot;:&quot;1&quot;,&quot;lineWidth&quot;:&quot;2&quot;,&quot;line-style&quot;:&quot;sharp&quot;,&quot;lineColor&quot;:&quot;red&quot;,&quot;condition&quot;:&quot;&quot;,&quot;transmit-variable&quot;:&quot;1&quot;} </JsonProperty> </mxCell> <mxCell id="244" value="" style="strokeWidth=2;strokeColor=#00ff00;sharp=1;" parent="1" source="155" target="169" edge="1"> <mxGeometry relative="1" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;&quot;,&quot;exception-flow&quot;:&quot;2&quot;,&quot;lineWidth&quot;:&quot;2&quot;,&quot;line-style&quot;:&quot;sharp&quot;,&quot;lineColor&quot;:&quot;#00ff00&quot;,&quot;condition&quot;:&quot;&quot;,&quot;transmit-variable&quot;:&quot;1&quot;} </JsonProperty> </mxCell> <mxCell id="246" value="" style="strokeWidth=2;strokeColor=#00ff00;sharp=1;" parent="1" source="144" target="155" edge="1"> <mxGeometry relative="1" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;&quot;,&quot;exception-flow&quot;:&quot;2&quot;,&quot;lineWidth&quot;:&quot;2&quot;,&quot;line-style&quot;:&quot;sharp&quot;,&quot;lineColor&quot;:&quot;#00ff00&quot;,&quot;condition&quot;:&quot;&quot;,&quot;transmit-variable&quot;:&quot;1&quot;} </JsonProperty> </mxCell> <mxCell id="256" value="输出内存信息" style="output" parent="1" vertex="1"> <mxGeometry x="538" y="233" width="32" height="32" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;输出内存信息&quot;,&quot;loopVariableName&quot;:&quot;i&quot;,&quot;tableName&quot;:&quot;&quot;,&quot;csvName&quot;:&quot;/data/csv_file/mem_info.csv&quot;,&quot;csvEncoding&quot;:&quot;UTF-8&quot;,&quot;output-name&quot;:[&quot;ip&quot;,&quot;lld_memory&quot;,&quot;type&quot;,&quot;speed&quot;,&quot;size&quot;,&quot;status&quot;],&quot;loopCount&quot;:&quot;${memory_list[0].length}&quot;,&quot;output-value&quot;:[&quot;${host_ip}&quot;,&quot;${memory_list[0][i].name}&quot;,&quot;${memory_list[0][i].type}&quot;,&quot;${memory_list[0][i].speed}&quot;,&quot;${memory_list[0][i].size}&quot;,&quot;${memory_list[0][i].status}&quot;],&quot;output-all&quot;:&quot;0&quot;,&quot;output-database&quot;:&quot;0&quot;,&quot;output-csv&quot;:&quot;1&quot;,&quot;shape&quot;:&quot;output&quot;} </JsonProperty> </mxCell> <mxCell id="276" value="输出CSV" style="strokeWidth=2;strokeColor=#00ff00;sharp=1;" parent="1" source="109" target="256" edge="1"> <mxGeometry relative="1" as="geometry"> <mxPoint x="323" y="249" as="sourcePoint"/> <mxPoint x="545" y="249" as="targetPoint"/> </mxGeometry> <JsonProperty as="data"> {&quot;value&quot;:&quot;输出CSV&quot;,&quot;exception-flow&quot;:&quot;2&quot;,&quot;lineWidth&quot;:&quot;2&quot;,&quot;line-style&quot;:&quot;sharp&quot;,&quot;lineColor&quot;:&quot;#00ff00&quot;,&quot;condition&quot;:&quot;&quot;,&quot;transmit-variable&quot;:&quot;1&quot;} </JsonProperty> </mxCell> <mxCell id="287" value="执行结束" style="forkJoin" parent="1" vertex="1"> <mxGeometry x="628" y="385" width="32" height="34" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;执行结束&quot;,&quot;shape&quot;:&quot;forkJoin&quot;} </JsonProperty> </mxCell> <mxCell id="288" value="执行结束" style="forkJoin" parent="1" vertex="1"> <mxGeometry x="624" y="552" width="32" height="32" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;执行结束&quot;,&quot;shape&quot;:&quot;forkJoin&quot;} </JsonProperty> </mxCell> <mxCell id="289" value="" style="strokeWidth=2;strokeColor=#00ff00;sharp=1;" parent="1" source="133" target="287" edge="1"> <mxGeometry relative="1" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;&quot;,&quot;exception-flow&quot;:&quot;2&quot;,&quot;lineWidth&quot;:&quot;2&quot;,&quot;line-style&quot;:&quot;sharp&quot;,&quot;lineColor&quot;:&quot;#00ff00&quot;,&quot;condition&quot;:&quot;&quot;,&quot;transmit-variable&quot;:&quot;1&quot;} </JsonProperty> </mxCell> <mxCell id="290" value="" style="strokeWidth=2;strokeColor=#00ff00;sharp=1;" parent="1" source="207" target="288" edge="1"> <mxGeometry relative="1" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;&quot;,&quot;exception-flow&quot;:&quot;2&quot;,&quot;lineWidth&quot;:&quot;2&quot;,&quot;line-style&quot;:&quot;sharp&quot;,&quot;lineColor&quot;:&quot;#00ff00&quot;,&quot;condition&quot;:&quot;&quot;,&quot;transmit-variable&quot;:&quot;1&quot;} </JsonProperty> </mxCell> <mxCell id="292" value="进入获取系统基本信息节点" style="strokeWidth=2;strokeColor=#00ff00;sharp=1;" parent="1" source="288" target="215" edge="1"> <mxGeometry relative="1" as="geometry"> <Array as="points"> <mxPoint x="640" y="650"/> <mxPoint x="94" y="650"/> </Array> </mxGeometry> <JsonProperty as="data"> {&quot;value&quot;:&quot;进入获取系统基本信息节点&quot;,&quot;exception-flow&quot;:&quot;2&quot;,&quot;lineWidth&quot;:&quot;2&quot;,&quot;line-style&quot;:&quot;sharp&quot;,&quot;lineColor&quot;:&quot;#00ff00&quot;,&quot;condition&quot;:&quot;&quot;,&quot;transmit-variable&quot;:&quot;1&quot;} </JsonProperty> </mxCell> <mxCell id="293" value="进入获取风扇数据节点" style="strokeWidth=2;strokeColor=#00ff00;sharp=1;" parent="1" source="287" target="208" edge="1"> <mxGeometry relative="1" as="geometry"> <Array as="points"> <mxPoint x="640" y="500"/> <mxPoint x="94" y="500"/> </Array> </mxGeometry> <JsonProperty as="data"> {&quot;value&quot;:&quot;进入获取风扇数据节点&quot;,&quot;exception-flow&quot;:&quot;2&quot;,&quot;lineWidth&quot;:&quot;2&quot;,&quot;line-style&quot;:&quot;sharp&quot;,&quot;lineColor&quot;:&quot;#00ff00&quot;,&quot;condition&quot;:&quot;&quot;,&quot;transmit-variable&quot;:&quot;1&quot;} </JsonProperty> </mxCell> <mxCell id="295" value="进入获取内存数据节点" style="strokeWidth=2;strokeColor=#00ff00;sharp=1;" parent="1" source="33" target="90" edge="1"> <mxGeometry relative="1" as="geometry"> <Array as="points"> <mxPoint x="1442" y="180"/> <mxPoint x="90" y="180"/> </Array> </mxGeometry> <JsonProperty as="data"> {&quot;value&quot;:&quot;进入获取内存数据节点&quot;,&quot;exception-flow&quot;:&quot;2&quot;,&quot;lineWidth&quot;:&quot;2&quot;,&quot;line-style&quot;:&quot;sharp&quot;,&quot;lineColor&quot;:&quot;#00ff00&quot;,&quot;condition&quot;:&quot;&quot;,&quot;transmit-variable&quot;:&quot;1&quot;} </JsonProperty> </mxCell> <mxCell id="296" value="执行结束" style="forkJoin" parent="1" vertex="1"> <mxGeometry x="628" y="233" width="32" height="32" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;执行结束&quot;,&quot;shape&quot;:&quot;forkJoin&quot;} </JsonProperty> </mxCell> <mxCell id="297" value="" style="strokeWidth=2;strokeColor=#00ff00;sharp=1;" parent="1" source="256" target="296" edge="1"> <mxGeometry relative="1" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;&quot;,&quot;exception-flow&quot;:&quot;2&quot;,&quot;lineWidth&quot;:&quot;2&quot;,&quot;line-style&quot;:&quot;sharp&quot;,&quot;lineColor&quot;:&quot;#00ff00&quot;,&quot;condition&quot;:&quot;&quot;,&quot;transmit-variable&quot;:&quot;1&quot;} </JsonProperty> </mxCell> <mxCell id="298" value="进入获取CPU数据节点" style="strokeWidth=2;strokeColor=#00ff00;sharp=1;" parent="1" source="296" target="115" edge="1"> <mxGeometry relative="1" as="geometry"> <Array as="points"> <mxPoint x="640" y="340"/> <mxPoint x="94" y="340"/> </Array> </mxGeometry> <JsonProperty as="data"> {&quot;value&quot;:&quot;进入获取CPU数据节点&quot;,&quot;exception-flow&quot;:&quot;2&quot;,&quot;lineWidth&quot;:&quot;2&quot;,&quot;line-style&quot;:&quot;sharp&quot;,&quot;lineColor&quot;:&quot;#00ff00&quot;,&quot;condition&quot;:&quot;&quot;,&quot;transmit-variable&quot;:&quot;1&quot;} </JsonProperty> </mxCell> <mxCell id="306" value="执行结束" style="forkJoin" parent="1" vertex="1"> <mxGeometry x="624" y="692" width="32" height="32" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;执行结束&quot;,&quot;shape&quot;:&quot;forkJoin&quot;} </JsonProperty> </mxCell> <mxCell id="307" value="" style="strokeWidth=2;strokeColor=#00ff00;sharp=1;" parent="1" source="217" target="306" edge="1"> <mxGeometry relative="1" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;&quot;,&quot;exception-flow&quot;:&quot;2&quot;,&quot;lineWidth&quot;:&quot;2&quot;,&quot;line-style&quot;:&quot;sharp&quot;,&quot;lineColor&quot;:&quot;#00ff00&quot;,&quot;condition&quot;:&quot;&quot;,&quot;transmit-variable&quot;:&quot;1&quot;} </JsonProperty> </mxCell> <mxCell id="309" value="" style="strokeWidth=2;strokeColor=#00ff00;sharp=1;" parent="1" source="58" target="144" edge="1"> <mxGeometry relative="1" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;&quot;,&quot;exception-flow&quot;:&quot;2&quot;,&quot;lineWidth&quot;:&quot;2&quot;,&quot;line-style&quot;:&quot;sharp&quot;,&quot;lineColor&quot;:&quot;#00ff00&quot;,&quot;condition&quot;:&quot;&quot;,&quot;transmit-variable&quot;:&quot;1&quot;} </JsonProperty> </mxCell> <mxCell id="311" value="获取电池信息" style="request" parent="1" vertex="1"> <mxGeometry x="78" y="838" width="32" height="32" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;获取电池信息&quot;,&quot;loopVariableName&quot;:&quot;&quot;,&quot;method&quot;:&quot;GET&quot;,&quot;sleep&quot;:&quot;2&quot;,&quot;timeout&quot;:&quot;&quot;,&quot;response-charset&quot;:&quot;&quot;,&quot;retryCount&quot;:&quot;&quot;,&quot;retryInterval&quot;:&quot;&quot;,&quot;header-name&quot;:[&quot;ST2&quot;,&quot;Accept-Language&quot;],&quot;header-description&quot;:[&quot;&quot;,&quot;&quot;],&quot;body-type&quot;:&quot;none&quot;,&quot;body-content-type&quot;:&quot;text/plain&quot;,&quot;loopCount&quot;:&quot;&quot;,&quot;url&quot;:&quot;https://${host_ip}/data?get=batteries&quot;,&quot;proxy&quot;:&quot;&quot;,&quot;header-value&quot;:[&quot;${ST2}&quot;,&quot;&quot;],&quot;request-body&quot;:&quot;&quot;,&quot;follow-redirect&quot;:&quot;1&quot;,&quot;tls-validate&quot;:&quot;0&quot;,&quot;cookie-auto-set&quot;:&quot;1&quot;,&quot;repeat-enable&quot;:&quot;0&quot;,&quot;shape&quot;:&quot;request&quot;} </JsonProperty> </mxCell> <mxCell id="312" value="解析数据" style="variable" parent="1" vertex="1"> <mxGeometry x="434" y="838" width="32" height="32" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;解析数据&quot;,&quot;loopVariableName&quot;:&quot;&quot;,&quot;variable-name&quot;:[&quot;discreteSensorList&quot;],&quot;variable-description&quot;:[&quot;&quot;],&quot;loopCount&quot;:&quot;&quot;,&quot;variable-value&quot;:[&quot;${extract.xpath(resp.html,&#39;discreteSensorList&#39;)}&quot;],&quot;shape&quot;:&quot;variable&quot;} </JsonProperty> </mxCell> <mxCell id="314" value="" style="strokeWidth=2;strokeColor=#00ff00;sharp=1;" parent="1" source="311" target="312" edge="1"> <mxGeometry relative="1" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;&quot;,&quot;exception-flow&quot;:&quot;2&quot;,&quot;lineWidth&quot;:&quot;2&quot;,&quot;line-style&quot;:&quot;sharp&quot;,&quot;lineColor&quot;:&quot;#00ff00&quot;,&quot;condition&quot;:&quot;&quot;,&quot;transmit-variable&quot;:&quot;1&quot;} </JsonProperty> </mxCell> <mxCell id="316" value="登出" style="request" parent="1" vertex="1"> <mxGeometry x="78" y="904" width="32" height="32" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;登出&quot;,&quot;loopVariableName&quot;:&quot;&quot;,&quot;method&quot;:&quot;GET&quot;,&quot;sleep&quot;:&quot;&quot;,&quot;timeout&quot;:&quot;&quot;,&quot;response-charset&quot;:&quot;&quot;,&quot;retryCount&quot;:&quot;&quot;,&quot;retryInterval&quot;:&quot;&quot;,&quot;body-type&quot;:&quot;none&quot;,&quot;body-content-type&quot;:&quot;text/plain&quot;,&quot;loopCount&quot;:&quot;&quot;,&quot;url&quot;:&quot;https://${host_ip}/data/logout&quot;,&quot;proxy&quot;:&quot;&quot;,&quot;request-body&quot;:&quot;&quot;,&quot;follow-redirect&quot;:&quot;1&quot;,&quot;tls-validate&quot;:&quot;0&quot;,&quot;cookie-auto-set&quot;:&quot;1&quot;,&quot;repeat-enable&quot;:&quot;0&quot;,&quot;shape&quot;:&quot;request&quot;} </JsonProperty> </mxCell> <mxCell id="317" value="出现异常" style="strokeWidth=2;strokeColor=red;sharp=1;" parent="1" source="311" target="316" edge="1"> <mxGeometry relative="1" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;出现异常&quot;,&quot;exception-flow&quot;:&quot;1&quot;,&quot;lineWidth&quot;:&quot;2&quot;,&quot;line-style&quot;:&quot;sharp&quot;,&quot;lineColor&quot;:&quot;red&quot;,&quot;condition&quot;:&quot;&quot;,&quot;transmit-variable&quot;:&quot;1&quot;} </JsonProperty> </mxCell> <mxCell id="318" value="执行结束" style="forkJoin" parent="1" vertex="1"> <mxGeometry x="624" y="838" width="32" height="32" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;执行结束&quot;,&quot;shape&quot;:&quot;forkJoin&quot;} </JsonProperty> </mxCell> <mxCell id="321" value="进行获取电池数据节点" style="strokeWidth=2;strokeColor=#00ff00;sharp=1;" parent="1" source="306" target="311" edge="1"> <mxGeometry relative="1" as="geometry"> <Array as="points"> <mxPoint x="640" y="800"/> <mxPoint x="94" y="800"/> </Array> </mxGeometry> <JsonProperty as="data"> {&quot;value&quot;:&quot;进行获取电池数据节点&quot;,&quot;exception-flow&quot;:&quot;2&quot;,&quot;lineWidth&quot;:&quot;2&quot;,&quot;line-style&quot;:&quot;sharp&quot;,&quot;lineColor&quot;:&quot;#00ff00&quot;,&quot;condition&quot;:&quot;&quot;,&quot;transmit-variable&quot;:&quot;1&quot;} </JsonProperty> </mxCell> <mxCell id="322" value="输出电池信息" style="output" parent="1" vertex="1"> <mxGeometry x="538" y="838" width="32" height="32" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;输出电池信息&quot;,&quot;loopVariableName&quot;:&quot;i&quot;,&quot;tableName&quot;:&quot;&quot;,&quot;csvName&quot;:&quot;/data/csv_file/battery.csv&quot;,&quot;csvEncoding&quot;:&quot;UTF-8&quot;,&quot;output-name&quot;:[&quot;ip&quot;,&quot;lld_battery&quot;,&quot;reading&quot;,&quot;status&quot;],&quot;loopCount&quot;:&quot;${list.length(extract.selectors(discreteSensorList,&#39;name&#39;,&#39;text&#39;))}&quot;,&quot;output-value&quot;:[&quot;${host_ip}&quot;,&quot;${extract.selectors(discreteSensorList,&#39;name&#39;,&#39;text&#39;)[i]}&quot;,&quot;${extract.selectors(discreteSensorList,&#39;reading&#39;,&#39;text&#39;)[i]}&quot;,&quot;${extract.selectors(discreteSensorList,&#39;sensorStatus&#39;,&#39;text&#39;)[i]}&quot;],&quot;output-all&quot;:&quot;0&quot;,&quot;output-database&quot;:&quot;0&quot;,&quot;output-csv&quot;:&quot;1&quot;,&quot;shape&quot;:&quot;output&quot;} </JsonProperty> </mxCell> <mxCell id="323" value="" style="strokeWidth=2;strokeColor=#00ff00;sharp=1;" parent="1" source="312" target="322" edge="1"> <mxGeometry relative="1" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;&quot;,&quot;exception-flow&quot;:&quot;2&quot;,&quot;lineWidth&quot;:&quot;2&quot;,&quot;line-style&quot;:&quot;sharp&quot;,&quot;lineColor&quot;:&quot;#00ff00&quot;,&quot;condition&quot;:&quot;&quot;,&quot;transmit-variable&quot;:&quot;1&quot;} </JsonProperty> </mxCell> <mxCell id="324" value="" style="strokeWidth=2;strokeColor=#00ff00;sharp=1;" parent="1" source="322" target="318" edge="1"> <mxGeometry relative="1" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;&quot;,&quot;exception-flow&quot;:&quot;2&quot;,&quot;lineWidth&quot;:&quot;2&quot;,&quot;line-style&quot;:&quot;sharp&quot;,&quot;lineColor&quot;:&quot;#00ff00&quot;,&quot;condition&quot;:&quot;&quot;,&quot;transmit-variable&quot;:&quot;1&quot;} </JsonProperty> </mxCell> <mxCell id="325" value="获取温度数据的url" style="request" parent="1" vertex="1"> <mxGeometry x="78" y="992.5" width="32" height="36" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;获取温度数据的url&quot;,&quot;loopVariableName&quot;:&quot;&quot;,&quot;method&quot;:&quot;GET&quot;,&quot;sleep&quot;:&quot;2&quot;,&quot;timeout&quot;:&quot;&quot;,&quot;response-charset&quot;:&quot;&quot;,&quot;retryCount&quot;:&quot;&quot;,&quot;retryInterval&quot;:&quot;&quot;,&quot;header-name&quot;:[&quot;ST2&quot;,&quot;Accept-Language&quot;],&quot;header-description&quot;:[&quot;&quot;,&quot;&quot;],&quot;body-type&quot;:&quot;none&quot;,&quot;body-content-type&quot;:&quot;text/plain&quot;,&quot;loopCount&quot;:&quot;&quot;,&quot;url&quot;:&quot;https://${host_ip}/cemgui/server_temperature.html?cat=C03&amp;tab=T10&amp;id=P21&quot;,&quot;proxy&quot;:&quot;&quot;,&quot;header-value&quot;:[&quot;${ST2}&quot;,&quot;&quot;],&quot;request-body&quot;:&quot;&quot;,&quot;follow-redirect&quot;:&quot;1&quot;,&quot;tls-validate&quot;:&quot;0&quot;,&quot;cookie-auto-set&quot;:&quot;1&quot;,&quot;repeat-enable&quot;:&quot;0&quot;,&quot;shape&quot;:&quot;request&quot;} </JsonProperty> </mxCell> <mxCell id="326" value="解析温度数据url" style="variable" parent="1" vertex="1"> <mxGeometry x="187" y="991.5" width="32" height="38" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;解析温度数据url&quot;,&quot;loopVariableName&quot;:&quot;&quot;,&quot;variable-name&quot;:[&quot;temperatureURL&quot;],&quot;variable-description&quot;:[&quot;&quot;],&quot;loopCount&quot;:&quot;&quot;,&quot;variable-value&quot;:[&quot;${extract.regx(resp.html,&#39;var temperatureURL = \&quot;([^\&quot;]+)\&quot;&#39;)}&quot;],&quot;shape&quot;:&quot;variable&quot;} </JsonProperty> </mxCell> <mxCell id="327" value="开始抓取温度数据" style="request" parent="1" vertex="1"> <mxGeometry x="284" y="994.5" width="32" height="32" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;开始抓取温度数据&quot;,&quot;loopVariableName&quot;:&quot;&quot;,&quot;method&quot;:&quot;GET&quot;,&quot;sleep&quot;:&quot;2&quot;,&quot;timeout&quot;:&quot;&quot;,&quot;response-charset&quot;:&quot;&quot;,&quot;retryCount&quot;:&quot;&quot;,&quot;retryInterval&quot;:&quot;&quot;,&quot;header-name&quot;:[&quot;ST2&quot;,&quot;Accept-Language&quot;,&quot;X_SYSMGMT_OPTIMIZE&quot;],&quot;header-description&quot;:[&quot;&quot;,&quot;&quot;,&quot;&quot;],&quot;body-type&quot;:&quot;none&quot;,&quot;body-content-type&quot;:&quot;text/plain&quot;,&quot;loopCount&quot;:&quot;&quot;,&quot;url&quot;:&quot;https://${host_ip}${temperatureURL}&quot;,&quot;proxy&quot;:&quot;&quot;,&quot;header-value&quot;:[&quot;${ST2}&quot;,&quot;zh-CN&quot;,&quot;true&quot;],&quot;request-body&quot;:&quot;&quot;,&quot;follow-redirect&quot;:&quot;1&quot;,&quot;tls-validate&quot;:&quot;0&quot;,&quot;cookie-auto-set&quot;:&quot;1&quot;,&quot;repeat-enable&quot;:&quot;0&quot;,&quot;shape&quot;:&quot;request&quot;} </JsonProperty> </mxCell> <mxCell id="328" value="登出" style="request" parent="1" vertex="1"> <mxGeometry x="284" y="1057.5" width="32" height="34" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;登出&quot;,&quot;loopVariableName&quot;:&quot;&quot;,&quot;method&quot;:&quot;GET&quot;,&quot;sleep&quot;:&quot;&quot;,&quot;timeout&quot;:&quot;&quot;,&quot;response-charset&quot;:&quot;&quot;,&quot;retryCount&quot;:&quot;&quot;,&quot;retryInterval&quot;:&quot;&quot;,&quot;body-type&quot;:&quot;none&quot;,&quot;body-content-type&quot;:&quot;text/plain&quot;,&quot;loopCount&quot;:&quot;&quot;,&quot;url&quot;:&quot;https://${host_ip}/data/logout&quot;,&quot;proxy&quot;:&quot;&quot;,&quot;request-body&quot;:&quot;&quot;,&quot;follow-redirect&quot;:&quot;1&quot;,&quot;tls-validate&quot;:&quot;0&quot;,&quot;cookie-auto-set&quot;:&quot;1&quot;,&quot;repeat-enable&quot;:&quot;0&quot;,&quot;shape&quot;:&quot;request&quot;} </JsonProperty> </mxCell> <mxCell id="329" value="" style="strokeWidth=2;strokeColor=red;sharp=1;" parent="1" source="327" target="328" edge="1"> <mxGeometry relative="1" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;&quot;,&quot;exception-flow&quot;:&quot;1&quot;,&quot;lineWidth&quot;:&quot;2&quot;,&quot;line-style&quot;:&quot;sharp&quot;,&quot;lineColor&quot;:&quot;red&quot;,&quot;condition&quot;:&quot;&quot;,&quot;transmit-variable&quot;:&quot;1&quot;} </JsonProperty> </mxCell> <mxCell id="330" value="解析数据" style="variable" parent="1" vertex="1"> <mxGeometry x="418" y="988.5" width="32" height="44" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;解析数据&quot;,&quot;loopVariableName&quot;:&quot;&quot;,&quot;variable-name&quot;:[&quot;TemperaturesList&quot;],&quot;variable-description&quot;:[&quot;&quot;],&quot;loopCount&quot;:&quot;&quot;,&quot;variable-value&quot;:[&quot;${extract.jsonpath(resp.json,&#39;$.Temperatures&#39;)}&quot;],&quot;shape&quot;:&quot;variable&quot;} </JsonProperty> </mxCell> <mxCell id="331" value="" style="strokeWidth=2;strokeColor=#00ff00;sharp=1;" parent="1" source="325" target="326" edge="1"> <mxGeometry relative="1" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;&quot;,&quot;exception-flow&quot;:&quot;2&quot;,&quot;lineWidth&quot;:&quot;2&quot;,&quot;line-style&quot;:&quot;sharp&quot;,&quot;lineColor&quot;:&quot;#00ff00&quot;,&quot;condition&quot;:&quot;&quot;,&quot;transmit-variable&quot;:&quot;1&quot;} </JsonProperty> </mxCell> <mxCell id="332" value="输出温度信息" style="output" parent="1" vertex="1"> <mxGeometry x="538" y="977" width="32" height="67" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;输出温度信息&quot;,&quot;loopVariableName&quot;:&quot;i&quot;,&quot;tableName&quot;:&quot;&quot;,&quot;csvName&quot;:&quot;/data/csv_file/temperature.csv&quot;,&quot;csvEncoding&quot;:&quot;UTF-8&quot;,&quot;output-name&quot;:[&quot;ip&quot;,&quot;lld_temperature&quot;,&quot;lld_max_failure&quot;,&quot;lld_max_warning&quot;,&quot;lld_min_failure&quot;,&quot;lld_min_warning&quot;,&quot;reading&quot;,&quot;status&quot;],&quot;loopCount&quot;:&quot;${list.length(extract.jsonpath(resp.json,&#39;$..name&#39;))}&quot;,&quot;output-value&quot;:[&quot;${host_ip}&quot;,&quot;${extract.jsonpath(resp.json,&#39;$..name&#39;)[i]}&quot;,&quot;${extract.jsonpath(resp.json,&#39;$..max_failure&#39;)[i]}&quot;,&quot;${extract.jsonpath(resp.json,&#39;$..max_warning&#39;)[i]}&quot;,&quot;${extract.jsonpath(resp.json,&#39;$..min_failure&#39;)[i]}&quot;,&quot;${extract.jsonpath(resp.json,&#39;$..min_warning&#39;)[i]}&quot;,&quot;${extract.jsonpath(resp.json,&#39;$..reading&#39;)[i]}&quot;,&quot;${extract.jsonpath(resp.json,&#39;$..sensor_status&#39;)[i]}&quot;],&quot;output-all&quot;:&quot;0&quot;,&quot;output-database&quot;:&quot;0&quot;,&quot;output-csv&quot;:&quot;1&quot;,&quot;shape&quot;:&quot;output&quot;} </JsonProperty> </mxCell> <mxCell id="334" value="" style="strokeWidth=2;strokeColor=#00ff00;sharp=1;" parent="1" source="326" target="327" edge="1"> <mxGeometry relative="1" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;&quot;,&quot;exception-flow&quot;:&quot;2&quot;,&quot;lineWidth&quot;:&quot;2&quot;,&quot;line-style&quot;:&quot;sharp&quot;,&quot;lineColor&quot;:&quot;#00ff00&quot;,&quot;condition&quot;:&quot;&quot;,&quot;transmit-variable&quot;:&quot;1&quot;} </JsonProperty> </mxCell> <mxCell id="335" value="" style="strokeWidth=2;strokeColor=#00ff00;sharp=1;" parent="1" source="327" target="330" edge="1"> <mxGeometry relative="1" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;&quot;,&quot;exception-flow&quot;:&quot;2&quot;,&quot;lineWidth&quot;:&quot;2&quot;,&quot;line-style&quot;:&quot;sharp&quot;,&quot;lineColor&quot;:&quot;#00ff00&quot;,&quot;condition&quot;:&quot;&quot;,&quot;transmit-variable&quot;:&quot;1&quot;} </JsonProperty> </mxCell> <mxCell id="336" value="登出" style="request" parent="1" vertex="1"> <mxGeometry x="78" y="1059.5" width="32" height="32" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;登出&quot;,&quot;loopVariableName&quot;:&quot;&quot;,&quot;method&quot;:&quot;GET&quot;,&quot;sleep&quot;:&quot;&quot;,&quot;timeout&quot;:&quot;&quot;,&quot;response-charset&quot;:&quot;&quot;,&quot;retryCount&quot;:&quot;&quot;,&quot;retryInterval&quot;:&quot;&quot;,&quot;body-type&quot;:&quot;none&quot;,&quot;body-content-type&quot;:&quot;text/plain&quot;,&quot;loopCount&quot;:&quot;&quot;,&quot;url&quot;:&quot;https://${host_ip}/data/logout&quot;,&quot;proxy&quot;:&quot;&quot;,&quot;request-body&quot;:&quot;&quot;,&quot;follow-redirect&quot;:&quot;1&quot;,&quot;tls-validate&quot;:&quot;0&quot;,&quot;cookie-auto-set&quot;:&quot;1&quot;,&quot;repeat-enable&quot;:&quot;0&quot;,&quot;shape&quot;:&quot;request&quot;} </JsonProperty> </mxCell> <mxCell id="337" value="" style="strokeWidth=2;strokeColor=red;sharp=1;" parent="1" source="325" target="336" edge="1"> <mxGeometry relative="1" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;&quot;,&quot;exception-flow&quot;:&quot;1&quot;,&quot;lineWidth&quot;:&quot;2&quot;,&quot;line-style&quot;:&quot;sharp&quot;,&quot;lineColor&quot;:&quot;red&quot;,&quot;condition&quot;:&quot;&quot;,&quot;transmit-variable&quot;:&quot;1&quot;} </JsonProperty> </mxCell> <mxCell id="338" value="执行结束" style="forkJoin" parent="1" vertex="1"> <mxGeometry x="628" y="993.5" width="32" height="34" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;执行结束&quot;,&quot;shape&quot;:&quot;forkJoin&quot;} </JsonProperty> </mxCell> <mxCell id="339" value="" style="strokeWidth=2;strokeColor=#00ff00;sharp=1;" parent="1" source="332" target="338" edge="1"> <mxGeometry relative="1" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;&quot;,&quot;exception-flow&quot;:&quot;2&quot;,&quot;lineWidth&quot;:&quot;2&quot;,&quot;line-style&quot;:&quot;sharp&quot;,&quot;lineColor&quot;:&quot;#00ff00&quot;,&quot;condition&quot;:&quot;&quot;,&quot;transmit-variable&quot;:&quot;1&quot;} </JsonProperty> </mxCell> <mxCell id="340" value="" style="strokeWidth=2;strokeColor=#00ff00;sharp=1;" parent="1" source="318" target="325" edge="1"> <mxGeometry relative="1" as="geometry"> <Array as="points"> <mxPoint x="640" y="940"/> <mxPoint x="94" y="940"/> </Array> </mxGeometry> <JsonProperty as="data"> {&quot;value&quot;:&quot;&quot;,&quot;exception-flow&quot;:&quot;2&quot;,&quot;lineWidth&quot;:&quot;2&quot;,&quot;line-style&quot;:&quot;sharp&quot;,&quot;lineColor&quot;:&quot;#00ff00&quot;,&quot;condition&quot;:&quot;&quot;,&quot;transmit-variable&quot;:&quot;1&quot;} </JsonProperty> </mxCell> <mxCell id="347" value="" style="strokeWidth=2;strokeColor=#00ff00;sharp=1;" parent="1" source="330" target="332" edge="1"> <mxGeometry relative="1" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;&quot;,&quot;exception-flow&quot;:&quot;2&quot;,&quot;lineWidth&quot;:&quot;2&quot;,&quot;line-style&quot;:&quot;sharp&quot;,&quot;lineColor&quot;:&quot;#00ff00&quot;,&quot;condition&quot;:&quot;&quot;,&quot;transmit-variable&quot;:&quot;1&quot;} </JsonProperty> </mxCell> <mxCell id="348" value="获取电源信息" style="request" parent="1" vertex="1"> <mxGeometry x="78" y="1136" width="32" height="32" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;获取电源信息&quot;,&quot;loopVariableName&quot;:&quot;&quot;,&quot;method&quot;:&quot;GET&quot;,&quot;sleep&quot;:&quot;2&quot;,&quot;timeout&quot;:&quot;&quot;,&quot;response-charset&quot;:&quot;&quot;,&quot;retryCount&quot;:&quot;&quot;,&quot;retryInterval&quot;:&quot;&quot;,&quot;header-name&quot;:[&quot;ST2&quot;,&quot;Accept-Language&quot;],&quot;header-description&quot;:[&quot;&quot;,&quot;&quot;],&quot;body-type&quot;:&quot;none&quot;,&quot;body-content-type&quot;:&quot;text/plain&quot;,&quot;loopCount&quot;:&quot;&quot;,&quot;url&quot;:&quot;https://${host_ip}/data?get=powermonitordata,powergraphdata,psRedundancy,pwState,pbtEnabled,activePLPolicy,activePLimit,pwrBudgetVal,powerSupplies,pbMaxWatts,&quot;,&quot;proxy&quot;:&quot;&quot;,&quot;header-value&quot;:[&quot;${ST2}&quot;,&quot;&quot;],&quot;request-body&quot;:&quot;&quot;,&quot;follow-redirect&quot;:&quot;1&quot;,&quot;tls-validate&quot;:&quot;0&quot;,&quot;cookie-auto-set&quot;:&quot;1&quot;,&quot;repeat-enable&quot;:&quot;0&quot;,&quot;shape&quot;:&quot;request&quot;} </JsonProperty> </mxCell> <mxCell id="349" value="解析数据" style="variable" parent="1" vertex="1"> <mxGeometry x="434" y="1136" width="32" height="32" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;解析数据&quot;,&quot;loopVariableName&quot;:&quot;&quot;,&quot;variable-name&quot;:[&quot;power_status&quot;,&quot;power_name&quot;,&quot;power_reading&quot;,&quot;power_warning&quot;,&quot;power_failure&quot;],&quot;variable-description&quot;:[&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;],&quot;loopCount&quot;:&quot;&quot;,&quot;variable-value&quot;:[&quot;${extract.xpath(resp.html,&#39;probeStatus/text()&#39;)}&quot;,&quot;${extract.xpath(resp.html,&#39;probeName/text()&#39;)}&quot;,&quot;${extract.xpath(resp.html,&#39;reading/reading/text()&#39;)}&quot;,&quot;${extract.xpath(resp.html,&#39;warningThreshold/text()&#39;)}&quot;,&quot;${extract.xpath(resp.html,&#39;failureThreshold/text()&#39;)}&quot;],&quot;shape&quot;:&quot;variable&quot;} </JsonProperty> </mxCell> <mxCell id="350" value="" style="strokeWidth=2;strokeColor=#00ff00;sharp=1;" parent="1" source="348" target="349" edge="1"> <mxGeometry relative="1" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;&quot;,&quot;exception-flow&quot;:&quot;2&quot;,&quot;lineWidth&quot;:&quot;2&quot;,&quot;line-style&quot;:&quot;sharp&quot;,&quot;lineColor&quot;:&quot;#00ff00&quot;,&quot;condition&quot;:&quot;&quot;,&quot;transmit-variable&quot;:&quot;1&quot;} </JsonProperty> </mxCell> <mxCell id="351" value="登出" style="request" parent="1" vertex="1"> <mxGeometry x="78" y="1202" width="32" height="32" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;登出&quot;,&quot;loopVariableName&quot;:&quot;&quot;,&quot;method&quot;:&quot;GET&quot;,&quot;sleep&quot;:&quot;&quot;,&quot;timeout&quot;:&quot;&quot;,&quot;response-charset&quot;:&quot;&quot;,&quot;retryCount&quot;:&quot;&quot;,&quot;retryInterval&quot;:&quot;&quot;,&quot;body-type&quot;:&quot;none&quot;,&quot;body-content-type&quot;:&quot;text/plain&quot;,&quot;loopCount&quot;:&quot;&quot;,&quot;url&quot;:&quot;https://${host_ip}/data/logout&quot;,&quot;proxy&quot;:&quot;&quot;,&quot;request-body&quot;:&quot;&quot;,&quot;follow-redirect&quot;:&quot;1&quot;,&quot;tls-validate&quot;:&quot;0&quot;,&quot;cookie-auto-set&quot;:&quot;1&quot;,&quot;repeat-enable&quot;:&quot;0&quot;,&quot;shape&quot;:&quot;request&quot;} </JsonProperty> </mxCell> <mxCell id="352" value="出现异常" style="strokeWidth=2;strokeColor=red;sharp=1;" parent="1" source="348" target="351" edge="1"> <mxGeometry relative="1" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;出现异常&quot;,&quot;exception-flow&quot;:&quot;1&quot;,&quot;lineWidth&quot;:&quot;2&quot;,&quot;line-style&quot;:&quot;sharp&quot;,&quot;lineColor&quot;:&quot;red&quot;,&quot;condition&quot;:&quot;&quot;,&quot;transmit-variable&quot;:&quot;1&quot;} </JsonProperty> </mxCell> <mxCell id="353" value="执行结束" style="forkJoin" parent="1" vertex="1"> <mxGeometry x="624" y="1136" width="32" height="32" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;执行结束&quot;,&quot;shape&quot;:&quot;forkJoin&quot;} </JsonProperty> </mxCell> <mxCell id="354" value="输出电源信息" style="output" parent="1" vertex="1"> <mxGeometry x="538" y="1136" width="32" height="32" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;输出电源信息&quot;,&quot;loopVariableName&quot;:&quot;i&quot;,&quot;tableName&quot;:&quot;&quot;,&quot;csvName&quot;:&quot;/data/csv_file/power.csv&quot;,&quot;csvEncoding&quot;:&quot;UTF-8&quot;,&quot;output-name&quot;:[&quot;ip&quot;,&quot;lld_power&quot;,&quot;status&quot;,&quot;reading&quot;,&quot;lld_warning&quot;,&quot;lld_failure&quot;],&quot;loopCount&quot;:&quot;${list.length(extract.selectors(discreteSensorList,&#39;name&#39;,&#39;text&#39;))}&quot;,&quot;output-value&quot;:[&quot;${host_ip}&quot;,&quot;${power_name}&quot;,&quot;${power_status}&quot;,&quot;${power_reading}&quot;,&quot;${power_warning}&quot;,&quot;${power_failure}&quot;],&quot;output-all&quot;:&quot;0&quot;,&quot;output-database&quot;:&quot;0&quot;,&quot;output-csv&quot;:&quot;1&quot;,&quot;shape&quot;:&quot;output&quot;} </JsonProperty> </mxCell> <mxCell id="355" value="" style="strokeWidth=2;strokeColor=#00ff00;sharp=1;" parent="1" source="349" target="354" edge="1"> <mxGeometry relative="1" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;&quot;,&quot;exception-flow&quot;:&quot;2&quot;,&quot;lineWidth&quot;:&quot;2&quot;,&quot;line-style&quot;:&quot;sharp&quot;,&quot;lineColor&quot;:&quot;#00ff00&quot;,&quot;condition&quot;:&quot;&quot;,&quot;transmit-variable&quot;:&quot;1&quot;} </JsonProperty> </mxCell> <mxCell id="356" value="" style="strokeWidth=2;strokeColor=#00ff00;sharp=1;" parent="1" source="354" target="353" edge="1"> <mxGeometry relative="1" as="geometry"> <mxPoint x="570" y="1150" as="sourcePoint"/> </mxGeometry> <JsonProperty as="data"> {&quot;value&quot;:&quot;&quot;,&quot;exception-flow&quot;:&quot;2&quot;,&quot;lineWidth&quot;:&quot;2&quot;,&quot;line-style&quot;:&quot;sharp&quot;,&quot;lineColor&quot;:&quot;#00ff00&quot;,&quot;condition&quot;:&quot;&quot;,&quot;transmit-variable&quot;:&quot;1&quot;} </JsonProperty> </mxCell> <mxCell id="358" value="进入获取电源数据节点" style="strokeWidth=2;strokeColor=#00ff00;sharp=1;" parent="1" source="338" target="348" edge="1"> <mxGeometry relative="1" as="geometry"> <Array as="points"> <mxPoint x="640" y="1110"/> <mxPoint x="94" y="1110"/> </Array> </mxGeometry> <JsonProperty as="data"> {&quot;value&quot;:&quot;进入获取电源数据节点&quot;,&quot;exception-flow&quot;:&quot;2&quot;,&quot;lineWidth&quot;:&quot;2&quot;,&quot;line-style&quot;:&quot;sharp&quot;,&quot;lineColor&quot;:&quot;#00ff00&quot;,&quot;condition&quot;:&quot;&quot;,&quot;transmit-variable&quot;:&quot;1&quot;} </JsonProperty> </mxCell> <mxCell id="360" value="获取电压信息" style="request" parent="1" vertex="1"> <mxGeometry x="78" y="1270" width="32" height="32" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;获取电压信息&quot;,&quot;loopVariableName&quot;:&quot;&quot;,&quot;method&quot;:&quot;GET&quot;,&quot;sleep&quot;:&quot;2&quot;,&quot;timeout&quot;:&quot;&quot;,&quot;response-charset&quot;:&quot;&quot;,&quot;retryCount&quot;:&quot;&quot;,&quot;retryInterval&quot;:&quot;&quot;,&quot;header-name&quot;:[&quot;ST2&quot;,&quot;Accept-Language&quot;],&quot;header-description&quot;:[&quot;&quot;,&quot;&quot;],&quot;body-type&quot;:&quot;none&quot;,&quot;body-content-type&quot;:&quot;text/plain&quot;,&quot;loopCount&quot;:&quot;&quot;,&quot;url&quot;:&quot;https://${host_ip}/data?get=voltages&quot;,&quot;proxy&quot;:&quot;&quot;,&quot;header-value&quot;:[&quot;${ST2}&quot;,&quot;&quot;],&quot;request-body&quot;:&quot;&quot;,&quot;follow-redirect&quot;:&quot;1&quot;,&quot;tls-validate&quot;:&quot;0&quot;,&quot;cookie-auto-set&quot;:&quot;1&quot;,&quot;repeat-enable&quot;:&quot;0&quot;,&quot;shape&quot;:&quot;request&quot;} </JsonProperty> </mxCell> <mxCell id="361" value="解析数据" style="variable" parent="1" vertex="1"> <mxGeometry x="434" y="1270" width="32" height="32" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;解析数据&quot;,&quot;loopVariableName&quot;:&quot;&quot;,&quot;variable-name&quot;:[&quot;voltage_status&quot;,&quot;voltage_name&quot;,&quot;voltage_reading&quot;],&quot;variable-description&quot;:[&quot;&quot;,&quot;&quot;,&quot;&quot;],&quot;loopCount&quot;:&quot;&quot;,&quot;variable-value&quot;:[&quot;${extract.selectors(resp.html,&#39;sensorStatus&#39;,&#39;text&#39;)}&quot;,&quot;${extract.selectors(resp.html,&#39;name&#39;,&#39;text&#39;)}&quot;,&quot;${extract.selectors(resp.html,&#39;reading&#39;,&#39;text&#39;)}&quot;],&quot;shape&quot;:&quot;variable&quot;} </JsonProperty> </mxCell> <mxCell id="362" value="" style="strokeWidth=2;strokeColor=#00ff00;sharp=1;" parent="1" source="360" target="361" edge="1"> <mxGeometry relative="1" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;&quot;,&quot;exception-flow&quot;:&quot;2&quot;,&quot;lineWidth&quot;:&quot;2&quot;,&quot;line-style&quot;:&quot;sharp&quot;,&quot;lineColor&quot;:&quot;#00ff00&quot;,&quot;condition&quot;:&quot;&quot;,&quot;transmit-variable&quot;:&quot;1&quot;} </JsonProperty> </mxCell> <mxCell id="363" value="登出" style="request" parent="1" vertex="1"> <mxGeometry x="78" y="1336" width="32" height="32" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;登出&quot;,&quot;loopVariableName&quot;:&quot;&quot;,&quot;method&quot;:&quot;GET&quot;,&quot;sleep&quot;:&quot;&quot;,&quot;timeout&quot;:&quot;&quot;,&quot;response-charset&quot;:&quot;&quot;,&quot;retryCount&quot;:&quot;&quot;,&quot;retryInterval&quot;:&quot;&quot;,&quot;body-type&quot;:&quot;none&quot;,&quot;body-content-type&quot;:&quot;text/plain&quot;,&quot;loopCount&quot;:&quot;&quot;,&quot;url&quot;:&quot;https://${host_ip}/data/logout&quot;,&quot;proxy&quot;:&quot;&quot;,&quot;request-body&quot;:&quot;&quot;,&quot;follow-redirect&quot;:&quot;1&quot;,&quot;tls-validate&quot;:&quot;0&quot;,&quot;cookie-auto-set&quot;:&quot;1&quot;,&quot;repeat-enable&quot;:&quot;0&quot;,&quot;shape&quot;:&quot;request&quot;} </JsonProperty> </mxCell> <mxCell id="364" value="出现异常" style="strokeWidth=2;strokeColor=red;sharp=1;" parent="1" source="360" target="363" edge="1"> <mxGeometry relative="1" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;出现异常&quot;,&quot;exception-flow&quot;:&quot;1&quot;,&quot;lineWidth&quot;:&quot;2&quot;,&quot;line-style&quot;:&quot;sharp&quot;,&quot;lineColor&quot;:&quot;red&quot;,&quot;condition&quot;:&quot;&quot;,&quot;transmit-variable&quot;:&quot;1&quot;} </JsonProperty> </mxCell> <mxCell id="365" value="执行结束" style="forkJoin" parent="1" vertex="1"> <mxGeometry x="624" y="1270" width="32" height="32" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;执行结束&quot;,&quot;shape&quot;:&quot;forkJoin&quot;} </JsonProperty> </mxCell> <mxCell id="366" value="输出电压信息" style="output" parent="1" vertex="1"> <mxGeometry x="538" y="1270" width="32" height="32" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;输出电压信息&quot;,&quot;loopVariableName&quot;:&quot;i&quot;,&quot;tableName&quot;:&quot;&quot;,&quot;csvName&quot;:&quot;/data/csv_file/voltage.csv&quot;,&quot;csvEncoding&quot;:&quot;UTF-8&quot;,&quot;output-name&quot;:[&quot;ip&quot;,&quot;lld_voltage&quot;,&quot;status&quot;,&quot;reading&quot;],&quot;loopCount&quot;:&quot;${list.length(voltage_name)}&quot;,&quot;output-value&quot;:[&quot;${host_ip}&quot;,&quot;${voltage_name[i]}&quot;,&quot;${voltage_status[i]}&quot;,&quot;${voltage_reading[i]}&quot;],&quot;output-all&quot;:&quot;0&quot;,&quot;output-database&quot;:&quot;0&quot;,&quot;output-csv&quot;:&quot;1&quot;,&quot;shape&quot;:&quot;output&quot;} </JsonProperty> </mxCell> <mxCell id="367" value="" style="strokeWidth=2;strokeColor=#00ff00;sharp=1;" parent="1" source="361" target="366" edge="1"> <mxGeometry relative="1" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;&quot;,&quot;exception-flow&quot;:&quot;2&quot;,&quot;lineWidth&quot;:&quot;2&quot;,&quot;line-style&quot;:&quot;sharp&quot;,&quot;lineColor&quot;:&quot;#00ff00&quot;,&quot;condition&quot;:&quot;&quot;,&quot;transmit-variable&quot;:&quot;1&quot;} </JsonProperty> </mxCell> <mxCell id="368" value="" style="strokeWidth=2;strokeColor=#00ff00;sharp=1;" parent="1" source="366" target="365" edge="1"> <mxGeometry relative="1" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;&quot;,&quot;exception-flow&quot;:&quot;2&quot;,&quot;lineWidth&quot;:&quot;2&quot;,&quot;line-style&quot;:&quot;sharp&quot;,&quot;lineColor&quot;:&quot;#00ff00&quot;,&quot;condition&quot;:&quot;&quot;,&quot;transmit-variable&quot;:&quot;1&quot;} </JsonProperty> </mxCell> <mxCell id="369" value="进入获取电压数据节点" style="strokeWidth=2;strokeColor=#00ff00;sharp=1;" parent="1" source="353" target="360" edge="1"> <mxGeometry relative="1" as="geometry"> <Array as="points"> <mxPoint x="640" y="1230"/> <mxPoint x="94" y="1230"/> </Array> </mxGeometry> <JsonProperty as="data"> {&quot;value&quot;:&quot;进入获取电压数据节点&quot;,&quot;exception-flow&quot;:&quot;2&quot;,&quot;lineWidth&quot;:&quot;2&quot;,&quot;line-style&quot;:&quot;sharp&quot;,&quot;lineColor&quot;:&quot;#00ff00&quot;,&quot;condition&quot;:&quot;&quot;,&quot;transmit-variable&quot;:&quot;1&quot;} </JsonProperty> </mxCell> <mxCell id="370" value="" style="strokeWidth=2;strokeColor=#00ff00;sharp=1;" parent="1" source="365" target="35" edge="1"> <mxGeometry relative="1" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;&quot;,&quot;exception-flow&quot;:&quot;2&quot;,&quot;lineWidth&quot;:&quot;2&quot;,&quot;line-style&quot;:&quot;sharp&quot;,&quot;lineColor&quot;:&quot;#00ff00&quot;,&quot;condition&quot;:&quot;&quot;,&quot;transmit-variable&quot;:&quot;1&quot;} </JsonProperty> </mxCell> <mxCell id="373" value="执行函数" style="function" parent="1" vertex="1"> <mxGeometry x="1150" y="101" width="32" height="32" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;执行函数&quot;,&quot;loopVariableName&quot;:&quot;disk_count&quot;,&quot;loopCount&quot;:&quot;${list.length(disk_nameList)}&quot;,&quot;shape&quot;:&quot;function&quot;} </JsonProperty> </mxCell> <mxCell id="375" value="筛选|P|的磁盘" style="strokeWidth=2;strokeColor=blue;sharp=1;" parent="1" source="373" target="157" edge="1"> <mxGeometry relative="1" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;筛选|P|的磁盘&quot;,&quot;exception-flow&quot;:&quot;0&quot;,&quot;lineWidth&quot;:&quot;2&quot;,&quot;line-style&quot;:&quot;sharp&quot;,&quot;lineColor&quot;:&quot;blue&quot;,&quot;condition&quot;:&quot;${disk_enclosures[disk_count].indexOf(\&quot;|P|\&quot;)!=-1}&quot;,&quot;transmit-variable&quot;:&quot;1&quot;} </JsonProperty> </mxCell> <mxCell id="379" value="循环结束后才会留到下一节点" style="strokeWidth=2;strokeColor=#00ff00;sharp=1;" parent="1" source="373" target="33" edge="1"> <mxGeometry relative="1" as="geometry"> <Array as="points"> <mxPoint x="1170" y="30"/> <mxPoint x="1442" y="30"/> </Array> </mxGeometry> <JsonProperty as="data"> {&quot;value&quot;:&quot;循环结束后才会留到下一节点&quot;,&quot;exception-flow&quot;:&quot;2&quot;,&quot;lineWidth&quot;:&quot;2&quot;,&quot;line-style&quot;:&quot;sharp&quot;,&quot;lineColor&quot;:&quot;#00ff00&quot;,&quot;condition&quot;:&quot;&quot;,&quot;transmit-variable&quot;:&quot;1&quot;} </JsonProperty> </mxCell> <mxCell id="381" value="" style="strokeWidth=2;strokeColor=#00ff00;sharp=1;" parent="1" source="169" target="373" edge="1"> <mxGeometry relative="1" as="geometry"/> <JsonProperty as="data"> {&quot;value&quot;:&quot;&quot;,&quot;exception-flow&quot;:&quot;2&quot;,&quot;lineWidth&quot;:&quot;2&quot;,&quot;line-style&quot;:&quot;sharp&quot;,&quot;lineColor&quot;:&quot;#00ff00&quot;,&quot;condition&quot;:&quot;&quot;,&quot;transmit-variable&quot;:&quot;1&quot;} </JsonProperty> </mxCell> </root> </mxGraphModel> ', null, '0', '2019-08-22 13:48:22', null, null, null);
-- INSERT INTO `sp_flow` VALUES ('b4430885ba8349588d1220d37eac831d', '爬取开源中国动弹', '<mxGraphModel>\n  <root>\n    <mxCell id=\"0\">\n      <JsonProperty as=\"data\">\n        {&quot;spiderName&quot;:&quot;爬取开源中国动弹&quot;,&quot;threadCount&quot;:&quot;&quot;}\n      </JsonProperty>\n    </mxCell>\n    <mxCell id=\"1\" parent=\"0\"/>\n    <mxCell id=\"2\" value=\"开始\" style=\"start\" vertex=\"1\" parent=\"1\">\n      <mxGeometry x=\"80\" y=\"80\" width=\"32\" height=\"32\" as=\"geometry\"/>\n      <JsonProperty as=\"data\">\n        {&quot;shape&quot;:&quot;start&quot;}\n      </JsonProperty>\n    </mxCell>\n    <mxCell id=\"3\" value=\"爬取动弹\" style=\"request\" vertex=\"1\" parent=\"1\">\n      <mxGeometry x=\"220\" y=\"80\" width=\"32\" height=\"32\" as=\"geometry\"/>\n      <JsonProperty as=\"data\">\n        {&quot;value&quot;:&quot;爬取动弹&quot;,&quot;loopVariableName&quot;:&quot;&quot;,&quot;sleep&quot;:&quot;&quot;,&quot;timeout&quot;:&quot;&quot;,&quot;response-charset&quot;:&quot;&quot;,&quot;method&quot;:&quot;GET&quot;,&quot;parameter-name&quot;:[&quot;type&quot;,&quot;lastLogId&quot;],&quot;body-type&quot;:&quot;none&quot;,&quot;body-content-type&quot;:&quot;text/plain&quot;,&quot;loopCount&quot;:&quot;&quot;,&quot;url&quot;:&quot;https://www.oschina.net/tweets/widgets/_tweet_index_list &quot;,&quot;proxy&quot;:&quot;&quot;,&quot;parameter-value&quot;:[&quot;ajax&quot;,&quot;${lastLogId}&quot;],&quot;request-body&quot;:&quot;&quot;,&quot;follow-redirect&quot;:&quot;1&quot;,&quot;tls-validate&quot;:&quot;1&quot;,&quot;shape&quot;:&quot;request&quot;}\n      </JsonProperty>\n    </mxCell>\n    <mxCell id=\"4\" value=\"\" edge=\"1\" parent=\"1\" source=\"2\" target=\"3\">\n      <mxGeometry relative=\"1\" as=\"geometry\"/>\n      <JsonProperty as=\"data\">\n        {&quot;value&quot;:&quot;&quot;,&quot;condition&quot;:&quot;&quot;}\n      </JsonProperty>\n    </mxCell>\n    <mxCell id=\"5\" value=\"提取lastLogId以及tweets\" style=\"variable\" vertex=\"1\" parent=\"1\">\n      <mxGeometry x=\"340\" y=\"80\" width=\"32\" height=\"32\" as=\"geometry\"/>\n      <JsonProperty as=\"data\">\n        {&quot;value&quot;:&quot;提取lastLogId以及tweets&quot;,&quot;loopVariableName&quot;:&quot;&quot;,&quot;variable-name&quot;:[&quot;lastLogId&quot;,&quot;tweets&quot;,&quot;fetchCount&quot;],&quot;loopCount&quot;:&quot;&quot;,&quot;variable-value&quot;:[&quot;${resp.selector(&#39;.tweet-item:last-child&#39;).attr(&#39;data-tweet-id&#39;)}&quot;,&quot;${resp.selectors(&#39;.tweet-item[data-tweet-id]&#39;)}&quot;,&quot;${fetchCount == null ? 0 : fetchCount + 1}&quot;],&quot;shape&quot;:&quot;variable&quot;}\n      </JsonProperty>\n    </mxCell>\n    <mxCell id=\"6\" value=\"\" edge=\"1\" parent=\"1\" source=\"3\" target=\"5\">\n      <mxGeometry relative=\"1\" as=\"geometry\"/>\n      <JsonProperty as=\"data\">\n        {&quot;value&quot;:&quot;&quot;,&quot;condition&quot;:&quot;&quot;}\n      </JsonProperty>\n    </mxCell>\n    <mxCell id=\"7\" value=\"循环\" style=\"loop\" vertex=\"1\" parent=\"1\">\n      <mxGeometry x=\"340\" y=\"250\" width=\"32\" height=\"32\" as=\"geometry\"/>\n      <JsonProperty as=\"data\">\n        {&quot;value&quot;:&quot;循环&quot;,&quot;loopVariableName&quot;:&quot;index&quot;,&quot;loopCount&quot;:&quot;${list.length(tweets)}&quot;,&quot;shape&quot;:&quot;loop&quot;}\n      </JsonProperty>\n    </mxCell>\n    <mxCell id=\"8\" value=\"\" edge=\"1\" parent=\"1\" source=\"5\" target=\"7\">\n      <mxGeometry relative=\"1\" as=\"geometry\"/>\n      <JsonProperty as=\"data\">\n        {&quot;value&quot;:&quot;&quot;,&quot;condition&quot;:&quot;&quot;}\n      </JsonProperty>\n    </mxCell>\n    <mxCell id=\"9\" value=\"提取详细信息\" style=\"variable\" vertex=\"1\" parent=\"1\">\n      <mxGeometry x=\"340\" y=\"340\" width=\"32\" height=\"32\" as=\"geometry\"/>\n      <JsonProperty as=\"data\">\n        {&quot;value&quot;:&quot;提取详细信息&quot;,&quot;loopVariableName&quot;:&quot;&quot;,&quot;variable-name&quot;:[&quot;content&quot;,&quot;author&quot;,&quot;like&quot;,&quot;reply&quot;,&quot;publishTime&quot;],&quot;loopCount&quot;:&quot;&quot;,&quot;variable-value&quot;:[&quot;${tweets[index].selector(&#39;.text&#39;).text()}&quot;,&quot;${tweets[index].selector(&#39;.user&#39;).text()}&quot;,&quot;${tweets[index].selector(&#39;.like span&#39;).text()}&quot;,&quot;${tweets[index].selector(&#39;.reply span&#39;).text()}&quot;,&quot;${tweets[index].selector(&#39;.date&#39;).regx(&#39;(.*?)&amp;nbsp&#39;)}&quot;],&quot;shape&quot;:&quot;variable&quot;}\n      </JsonProperty>\n    </mxCell>\n    <mxCell id=\"10\" value=\"\" edge=\"1\" parent=\"1\" source=\"7\" target=\"9\">\n      <mxGeometry relative=\"1\" as=\"geometry\"/>\n      <JsonProperty as=\"data\">\n        {&quot;value&quot;:&quot;&quot;,&quot;condition&quot;:&quot;&quot;}\n      </JsonProperty>\n    </mxCell>\n    <mxCell id=\"11\" value=\"输出\" style=\"output\" vertex=\"1\" parent=\"1\">\n      <mxGeometry x=\"340\" y=\"430\" width=\"32\" height=\"32\" as=\"geometry\"/>\n      <JsonProperty as=\"data\">\n        {&quot;value&quot;:&quot;输出&quot;,&quot;loopVariableName&quot;:&quot;&quot;,&quot;output-name&quot;:[&quot;作者&quot;,&quot;内容&quot;,&quot;点赞数&quot;,&quot;评论数&quot;,&quot;发布时间&quot;],&quot;loopCount&quot;:&quot;&quot;,&quot;output-value&quot;:[&quot;${author}&quot;,&quot;${content}&quot;,&quot;${like}&quot;,&quot;${reply}&quot;,&quot;${publishTime}&quot;],&quot;shape&quot;:&quot;output&quot;}\n      </JsonProperty>\n    </mxCell>\n    <mxCell id=\"12\" value=\"\" edge=\"1\" parent=\"1\" source=\"9\" target=\"11\">\n      <mxGeometry relative=\"1\" as=\"geometry\"/>\n      <JsonProperty as=\"data\">\n        {&quot;value&quot;:&quot;&quot;,&quot;condition&quot;:&quot;&quot;}\n      </JsonProperty>\n    </mxCell>\n    <mxCell id=\"13\" value=\"爬取3页\" edge=\"1\" parent=\"1\" source=\"5\" target=\"3\">\n      <mxGeometry x=\"-0.0312\" y=\"-20\" relative=\"1\" as=\"geometry\">\n        <Array as=\"points\">\n          <mxPoint x=\"356\" y=\"180\"/>\n          <mxPoint x=\"236\" y=\"180\"/>\n        </Array>\n        <mxPoint as=\"offset\"/>\n      </mxGeometry>\n      <JsonProperty as=\"data\">\n        {&quot;value&quot;:&quot;爬取5页&quot;,&quot;condition&quot;:&quot;${fetchCount &lt; 3}&quot;}\n      </JsonProperty>\n    </mxCell>\n  </root>\n</mxGraphModel>\n', '', '0', '2019-11-03 17:02:49', '2019-11-04 10:11:31', '2019-11-03 17:30:56', '3');
-- INSERT INTO `sp_flow` VALUES ('663aaa5e36a84c9594ef3cfd6738e9a7', '百度热点', '<mxGraphModel>\n  <root>\n    <mxCell id=\"0\">\n      <JsonProperty as=\"data\">\n        {&quot;spiderName&quot;:&quot;百度热点&quot;,&quot;threadCount&quot;:&quot;&quot;}\n      </JsonProperty>\n    </mxCell>\n    <mxCell id=\"1\" parent=\"0\"/>\n    <mxCell id=\"2\" value=\"开始\" style=\"start\" parent=\"1\" vertex=\"1\">\n      <mxGeometry x=\"80\" y=\"80\" width=\"32\" height=\"32\" as=\"geometry\"/>\n      <JsonProperty as=\"data\">\n        {&quot;shape&quot;:&quot;start&quot;}\n      </JsonProperty>\n    </mxCell>\n    <mxCell id=\"3\" value=\"开始抓取\" style=\"request\" parent=\"1\" vertex=\"1\">\n      <mxGeometry x=\"220\" y=\"80\" width=\"32\" height=\"32\" as=\"geometry\"/>\n      <JsonProperty as=\"data\">\n        {&quot;value&quot;:&quot;开始抓取&quot;,&quot;loopVariableName&quot;:&quot;&quot;,&quot;sleep&quot;:&quot;&quot;,&quot;timeout&quot;:&quot;&quot;,&quot;response-charset&quot;:&quot;gbk&quot;,&quot;method&quot;:&quot;GET&quot;,&quot;body-type&quot;:&quot;none&quot;,&quot;body-content-type&quot;:&quot;text/plain&quot;,&quot;loopCount&quot;:&quot;&quot;,&quot;url&quot;:&quot;https://top.baidu.com/buzz?b=1&amp;fr=topindex&quot;,&quot;proxy&quot;:&quot;&quot;,&quot;request-body&quot;:&quot;&quot;,&quot;follow-redirect&quot;:&quot;1&quot;,&quot;tls-validate&quot;:&quot;1&quot;,&quot;shape&quot;:&quot;request&quot;}\n      </JsonProperty>\n    </mxCell>\n    <mxCell id=\"4\" value=\"定义变量\" style=\"variable\" parent=\"1\" vertex=\"1\">\n      <mxGeometry x=\"360\" y=\"80\" width=\"32\" height=\"32\" as=\"geometry\"/>\n      <JsonProperty as=\"data\">\n        {&quot;value&quot;:&quot;定义变量&quot;,&quot;loopVariableName&quot;:&quot;&quot;,&quot;variable-name&quot;:[&quot;elementbd&quot;],&quot;loopCount&quot;:&quot;&quot;,&quot;variable-value&quot;:[&quot;${resp.xpaths(&#39;//*[@id=\\&quot;main\\&quot;]/div[2]/div/table/tbody/tr&#39;)}&quot;],&quot;shape&quot;:&quot;variable&quot;}\n      </JsonProperty>\n    </mxCell>\n    <mxCell id=\"5\" value=\"输出\" style=\"output\" parent=\"1\" vertex=\"1\">\n      <mxGeometry x=\"480\" y=\"80\" width=\"32\" height=\"32\" as=\"geometry\"/>\n      <JsonProperty as=\"data\">\n        {&quot;value&quot;:&quot;输出&quot;,&quot;loopVariableName&quot;:&quot;i&quot;,&quot;output-name&quot;:[&quot;名称&quot;,&quot;地址&quot;,&quot;百度指数&quot;,&quot;2&quot;],&quot;loopCount&quot;:&quot;${elementbd.size()-1}&quot;,&quot;output-value&quot;:[&quot;${elementbd[i+1].xpath(&#39;//td[2]/a[1]/text()&#39;)}&quot;,&quot;${elementbd[i+1].xpath(&#39;//td[2]/a[1]/@href&#39;)}&quot;,&quot;${elementbd[i+1].xpath(&#39;//td[4]/span/text()&#39;)}&quot;,&quot;${elementbd[i+1].xpath(&#39;//td[3]/a[2]/text()&#39;)}&quot;],&quot;shape&quot;:&quot;output&quot;}\n      </JsonProperty>\n    </mxCell>\n    <mxCell id=\"6\" value=\"\" parent=\"1\" source=\"2\" target=\"3\" edge=\"1\">\n      <mxGeometry relative=\"1\" as=\"geometry\"/>\n      <JsonProperty as=\"data\">\n        {&quot;value&quot;:&quot;&quot;,&quot;condition&quot;:&quot;&quot;}\n      </JsonProperty>\n    </mxCell>\n    <mxCell id=\"7\" value=\"\" parent=\"1\" source=\"3\" target=\"4\" edge=\"1\">\n      <mxGeometry relative=\"1\" as=\"geometry\"/>\n      <JsonProperty as=\"data\">\n        {&quot;value&quot;:&quot;&quot;,&quot;condition&quot;:&quot;&quot;}\n      </JsonProperty>\n    </mxCell>\n    <mxCell id=\"8\" value=\"\" parent=\"1\" source=\"4\" target=\"5\" edge=\"1\">\n      <mxGeometry relative=\"1\" as=\"geometry\"/>\n      <JsonProperty as=\"data\">\n        {&quot;value&quot;:&quot;&quot;,&quot;condition&quot;:&quot;&quot;}\n      </JsonProperty>\n    </mxCell>\n  </root>\n</mxGraphModel>\n', '0 0/30 * * * ? *', '1', '2019-10-20 17:24:21', '2019-11-04 08:52:05', '2019-10-30 14:52:39', '45');


INSERT INTO `sp_function` VALUES ('e40fb7e6b8b897a2667c0fc0f4ad4de6', 'filter_empty_memory', 'nameList,typeList,speedList,sizeList,statusList','var temp_list = []
for(var i = 0; i < nameList.length; i++){
  if(speedList[i] == 0){
    continue
  }
  temp_list.push({
    name:nameList[i],
    type:typeList[i],
    speed:speedList[i],
    size:sizeList[i],
    status:statusList[i]
  })
}
return temp_list  ', '2022-05-10 14:25:48');

INSERT INTO `sp_function` VALUES ('cabebe9af61da493f31e93f22345dd1e', 'disk_typeToName', 'disk_typeList','for(var i = 0; i < disk_typeList.length; i++){
  switch(disk_typeList[i]){
    case 0:
      disk_typeList[i] = ''HDD'';
      break;
    case 2:
      disk_typeList[i] = ''SSD'';
      break;
    default:
      disk_typeList[i] = ''info is aviliable'';
      break;
  }
}
return disk_typeList', '2022-05-10 14:25:48');

INSERT INTO `sp_function` VALUES ('b1de91177901f71e2e51bda83d1e8011', 'ByteToGb', 'sizeList, num','for(var i = 0; i < sizeList.length;i++)
{
  for(var j = 0; j < num; j++){
    sizeList[i] = (sizeList[i] / 1024)
  }
}
return sizeList  ', '2022-05-10 14:25:48');
DROP TABLE IF EXISTS `sp_datasource`;
CREATE TABLE `sp_datasource` (
                                 `id` varchar(32) NOT NULL,
                                 `name` varchar(255) DEFAULT NULL,
                                 `driver_class_name` varchar(255) DEFAULT NULL,
                                 `jdbc_url` varchar(255) DEFAULT NULL,
                                 `username` varchar(64) DEFAULT NULL,
                                 `password` varchar(32) DEFAULT NULL,
                                 `create_date` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
                                 PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

DROP TABLE IF EXISTS `sp_variable`;
CREATE TABLE `sp_variable` (
                               `id` int(11) NOT NULL AUTO_INCREMENT,
                               `name` varchar(32) DEFAULT NULL COMMENT '变量名',
                               `value` varchar(512) DEFAULT NULL COMMENT '变量值',
                               `description` varchar(255) DEFAULT NULL COMMENT '变量描述',
                               `create_date` datetime DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
                               PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb4;

/* v0.3.0 新增 */
DROP TABLE IF EXISTS `sp_task`;
CREATE TABLE `sp_task` (
                           `id` int(11) NOT NULL AUTO_INCREMENT,
                           `flow_id` varchar(32) NOT NULL,
                           `begin_time` datetime DEFAULT NULL,
                           `end_time` datetime DEFAULT NULL,
                           PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=7 DEFAULT CHARSET=utf8mb4;

/* v0.4.0 新增 */
DROP TABLE IF EXISTS `sp_function`;
CREATE TABLE `sp_function`  (
                                `id` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL,
                                `name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '函数名',
                                `parameter` varchar(512) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '参数',
                                `script` text CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL COMMENT 'js脚本',
                                `create_date` datetime(0) NULL DEFAULT CURRENT_TIMESTAMP,
                                PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci ROW_FORMAT = Dynamic;

/* v0.5.0 新增 */
DROP TABLE IF EXISTS `sp_flow_notice`;
CREATE TABLE `sp_flow_notice` (
                                  `id` varchar(32) NOT NULL,
                                  `recipients` varchar(200) DEFAULT NULL COMMENT '收件人',
                                  `notice_way` char(10) DEFAULT NULL COMMENT '通知方式',
                                  `start_notice` char(1) DEFAULT '0' COMMENT '流程开始通知:1:开启通知,0:关闭通知',
                                  `exception_notice` char(1) DEFAULT '0' COMMENT '流程异常通知:1:开启通知,0:关闭通知',
                                  `end_notice` char(1) DEFAULT '0' COMMENT '流程结束通知:1:开启通知,0:关闭通知',
                                  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT '爬虫任务通知表';